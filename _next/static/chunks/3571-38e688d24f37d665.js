"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3571],{48725:function(t,e,n){n.d(e,{nv:function(){return c}});var a=n(85893),i=n(98272),o=n(32837),r=n(14869),s=n(24561);function c(t){let{width:e,height:n,className:s}=t,c=(0,r.q_)({from:{backgroundColor:i.default.colors.white15},to:{backgroundColor:i.default.colors.white20},loop:{reverse:!0},config:{duration:400,easing:o.ud}});return(0,a.jsx)(r.q.div,{style:{...c,width:e,height:n},className:s})}(0,n(41686).ZP)(s.ZP).withConfig({componentId:"sc-7b2e3809-0"})(["padding:","px;"],t=>t.theme.space.xxxs)},50367:function(t,e,n){var a=n(85893),i=n(91570),o=n(69995),r=n(16086),s=n(76575),c=n(59849),l=n(43951),d=n(98272),u=n(32837),h=n(83850),g=n(65625),p=n(12675),f=n(16081),m=n(31690),y=n(70794),v=n(41686);let k=v.ZP.p.withConfig({componentId:"sc-5aa82a05-0"})(t=>({...t.theme.typography.body_medium_m,color:t.theme.colors.white80,marginRight:t.theme.space.xxs})),w=v.ZP.div.withConfig({componentId:"sc-5aa82a05-1"})({display:"flex",alignItems:"center",minHeight:"21px"}),b=v.ZP.p.withConfig({componentId:"sc-5aa82a05-2"})(t=>({...t.theme.typography.body_medium_m,color:t.$themeColor,marginLeft:t.theme.space.xxxs})),x=v.ZP.p.withConfig({componentId:"sc-5aa82a05-3"})(t=>({...t.theme.typography.body_medium_m,color:t.theme.colors.white80,marginLeft:t.theme.space.xs})),S=(0,v.ZP)(i._B).withConfig({componentId:"sc-5aa82a05-4"})(t=>({marginLeft:t.theme.space.xxs}));e.Z=function(t){var e,n;let{isHidden:i=!1,ftCurrencyPairs:v,decimals:Z=2,displayTimeInterval:B=!1,displayBalanceChange:_=!1,displayAmountChange:C=!1,displayZeroChange:T=!0,chartPriceStats:j}=t,{data:I}=(0,r.W4)(),P=null!==(e=null==I?void 0:I.stxBtcRate.toString())&&void 0!==e?e:"0",F=null!==(n=null==I?void 0:I.btcFiatRate.toString())&&void 0!==n?n:"0",{data:R}=(0,l.Z)(),{data:D}=(0,s.Z)(),{data:$}=(0,c.Z)("bitcoin"),{data:q}=(0,c.Z)("blockstack"),N=0,[O,L]=v.map(t=>{let[e,n]=t,a=n&&(0,m.tNF)(Number((0,g.U4)(n,e,R,D)),n,(0,y.Z)(P),(0,y.Z)(F),e);if(!a)return[(0,y.Z)(0),(0,y.Z)(0)];let i=0;if(e){if(!e.priceChangePercentage24h||!e.tokenFiatRate||!n)return[(0,y.Z)(a),(0,y.Z)(a)];N=Number(e.currentPrice||"0"),i=100+parseFloat(e.priceChangePercentage24h)}else"BTC"===n?(N=(null==$?void 0:$.current_price)||0,i=(null==$?void 0:$.price_change_percentage_24h)?100+parseFloat(null==$?void 0:$.price_change_percentage_24h.toString()):0):"STX"===n&&(N=(null==q?void 0:q.current_price)||0,i=(null==q?void 0:q.price_change_percentage_24h)?100+parseFloat(null==q?void 0:q.price_change_percentage_24h.toString()):0);return i?[(0,y.Z)(a),(0,y.Z)(a).dividedBy(i).multipliedBy(100)]:[(0,y.Z)(0),(0,y.Z)(0)]}).reduce((t,e)=>[t[0].plus(e[0]),t[1].plus(e[1])],[(0,y.Z)(0),(0,y.Z)(0)]);if(!j&&(O.eq(0)||L.eq(0)))return null;if(i)return(0,a.jsxs)(w,{children:[(0,a.jsx)(k,{children:u.Fs}),B&&(0,a.jsx)(x,{children:"1D"})]});let A=(null==j?void 0:j.change)?(0,y.Z)(j.change).minus(1):O.dividedBy(L).minus(1),E=A.multipliedBy(100).absoluteValue().toFixed(Z),U=A.gte(0),z=U?d.default.colors.success_light:d.default.colors.danger_light,G=U?p.U:f.p,K=["(",U?"+":"-",m.Qb_.USD,O.minus(L).absoluteValue().toFixed(2),")"].join(""),H=C&&1===v.length?(0,y.Z)(N).multipliedBy(A).multipliedBy(1).absoluteValue():null,M=H?["(",U?"+":"-",m.Qb_.USD,H,")"].join(""):null;return!T&&A.isZero()?null:(0,a.jsxs)(w,{children:[(0,a.jsx)(G,{size:12,color:z,weight:"fill"}),(0,a.jsxs)(b,{$themeColor:z,children:[E,"%",_&&K?" ".concat(K):""]}),M&&(()=>{let t=(0,y.Z)(H||0);return(0,a.jsxs)(S,{typography:"body_medium_m",color:U?"success_light":"danger_light",children:["".concat(U?"(+":"(-"),t.isGreaterThan(1)?"".concat(m.Qb_.USD).concat(t.toFormat(2)):(0,a.jsxs)(a.Fragment,{children:[m.Qb_.USD,(0,a.jsx)(o.Z,{number:(0,m.azF)((0,h.aO)(t.toString()))})]}),")"]})})(),B&&(0,a.jsx)(x,{children:"1D"})]})}},83790:function(t,e,n){n.d(e,{Z:function(){return y}});var a=n(85893),i=n(32837),o=n(65625),r=n(67294),s=n(41686),c=n(48725);let l=s.ZP.img.withConfig({componentId:"sc-417780c7-0"})(t=>{var e,n;return{height:null!==(e=t.$size)&&void 0!==e?e:40,width:null!==(n=t.$size)&&void 0!==n?n:40,borderRadius:"50%"}}),d=s.ZP.div.withConfig({componentId:"sc-417780c7-1"})({display:"flex",alignItems:"center",justifyContent:"center"}),u=s.ZP.div.withConfig({componentId:"sc-417780c7-2"})(t=>{var e,n;return{display:"flex",alignItems:"center",justifyContent:"center",height:null!==(e=t.$size)&&void 0!==e?e:40,width:null!==(n=t.$size)&&void 0!==n?n:40,borderRadius:"50%",backgroundColor:t.theme.colors.white15}}),h=s.ZP.h1.withConfig({componentId:"sc-417780c7-3"})(t=>({...t.theme.typography.body_bold_m,color:t.theme.colors.white100,textAlign:"center",wordBreak:"break-all",fontSize:11})),g=s.ZP.div.withConfig({componentId:"sc-417780c7-4"})(["position:relative;align-self:center;display:inline-flex;"]),p=s.ZP.div.withConfig({componentId:"sc-417780c7-5"})(t=>({width:t.$isSquare?18:20,height:t.$isSquare?18:20,borderRadius:t.$isSquare?0:20,position:"absolute",right:t.$isSquare?-9:-10,bottom:-2,backgroundColor:t.theme.colors.elevation100,padding:2})),f=s.ZP.img.withConfig({componentId:"sc-417780c7-6"})({height:"100%",width:"100%"}),m=(0,s.ZP)(c.nv).withConfig({componentId:"sc-417780c7-7"})(t=>({borderRadius:t.$borderRadius,marginBottom:t.$withMarginBottom?t.theme.space.s:0}));function y(t){let{currency:e,fungibleToken:n,imageUrl:s,loading:c,size:y,round:v,showProtocolIcon:k=!0,customProtocolIcon:w}=t,b=null==n?void 0:n.protocol,[x,S]=(0,r.useState)(!1),Z=(0,r.useCallback)(()=>"STX"===e||(null==n?void 0:n.principal)==="STX"?"/wallet/stacks.svg":"BTC"===e||(null==n?void 0:n.principal)==="BTC"?"/wallet/bitcoin.svg":(null==n?void 0:n.principal)==="STRK"||(null==n?void 0:n.ticker)==="STRK"||"SN"===e?"/wallet/starknet.svg":void 0,[e,n]),B=(null==n?void 0:n.ticker)||((null==n?void 0:n.name)?(0,o.yv)(n.name):(null==n?void 0:n.assetName)||""),_=()=>(0,a.jsx)(u,{$size:y,$round:v,children:(0,a.jsx)(h,{"data-testid":"token-image",children:B.substring(0,4)})}),C=(0,r.useMemo)(()=>{if(!b&&!w)return null;let t={"brc-20":(0,a.jsx)(f,{src:"/wallet/ordinals.svg",alt:"brc20"}),stacks:(0,a.jsx)(f,{src:"/wallet/stacks.svg",alt:"stacks"}),runes:(0,a.jsx)(f,{src:"/transactions/runes.svg",alt:"runes"})};return b?t[b]:(0,a.jsx)(f,{src:w,alt:"custom"})},[b,w]);return c?(0,a.jsx)(g,{children:(0,a.jsx)(d,{children:(0,a.jsx)(m,{width:null!=y?y:40,height:null!=y?y:40,$borderRadius:100})})}):(0,a.jsxs)(g,{children:[x?_():(()=>{if(s)return(0,a.jsx)(l,{"data-testid":"token-image",$size:y,src:s,onError:()=>S(!0)});if(!n||"BTC"===n.principal||"STX"===n.principal)return(0,a.jsx)(l,{"data-testid":"token-image",$size:y,src:Z(),onError:()=>S(!0)});if("runes"===n.protocol){if(n.runeInscriptionId)return(0,a.jsx)(l,{"data-testid":"token-image",$size:y,src:"".concat(i.iO,"/thumbnail/").concat(n.runeInscriptionId),onError:()=>S(!0)});if(n.runeSymbol)return(0,a.jsx)(u,{$size:y,$round:v,children:(0,a.jsx)(h,{"data-testid":"token-image",children:n.runeSymbol})})}return n.image?(0,a.jsx)(l,{"data-testid":"token-image",$size:y,src:n.image,onError:()=>S(!0)}):_()})(),k&&C&&(0,a.jsx)(p,{$isSquare:"runes"===b,children:C})]})}},11907:function(t,e,n){n.d(e,{Op:function(){return l},W4:function(){return d},dd:function(){return c},m$:function(){return s}});var a=n(78551),i=n(70794),o=n(12169),r=n(41588);let s=()=>(0,a.a)({queryKey:[o.OL.stackingPoolInfo],queryFn:r.G8.stacking.fetchStackingPoolInfo}),c=()=>(0,a.a)({queryKey:[o.OL.stackingData],queryFn:r.G8.stacking.fetchStackingData}),l=()=>(0,a.a)({queryKey:[o.OL.poolParticipants],queryFn:r.G8.stacking.fetchPoolParticipants}),d=()=>(0,a.a)({queryKey:[o.OL.rates],queryFn:async()=>{let[t,e,n]=await Promise.all([r.G8.fetchStxToBtcRate(),r.G8.fetchStrkToBtcRate(),r.G8.fetchBtcToCurrencyRate()]),a=(0,i.Z)(t).multipliedBy(n),o=(0,i.Z)(e).multipliedBy(n);return{stxBtcRate:t,btcFiatRate:n,stxFiatRate:a,strkFiatRate:o,stxToFiat:function(t){return t.multipliedBy(a)},stxToBtc:function(e){return e.multipliedBy(t)},btcToFiat:function(t){return t.multipliedBy(n)}}}})},16086:function(t,e,n){n.d(e,{Op:function(){return a.Op},W4:function(){return a.W4},dd:function(){return a.dd},m$:function(){return a.m$}});var a=n(11907)},12169:function(t,e,n){n.d(e,{IT:function(){return a},OL:function(){return o},SA:function(){return r},cF:function(){return i}});let a={stackingState:"stacking-state",delegationData:"delegation-data",poolStatus:"pool-status"},i={userBalance:"user-balance"},o={stackingPoolInfo:"stacking-pool-info",stackingData:"stacking-data",poolParticipants:"pool-participants",rates:"rates"},r={stackingRewards:"stacking-rewards"}},76575:function(t,e,n){var a=n(47300),i=n(14212),o=n(30083),r=n(78551),s=n(24139);e.Z=()=>{let t=(0,i.X)(t=>t.paymentAddress),e=(0,a.Z)(),n=async()=>(await e.getBalance(null!=t?t:"")).finalBalance;return(0,r.a)({queryKey:["btc-wallet-data",t,o.DEFAULT_MAINNET.type],queryFn:n,enabled:!!t,staleTime:1e4,placeholderData:s.Wk})}},59849:function(t,e,n){var a=n(41588),i=n(30083),o=n(78551);e.Z=t=>{let e=["bitcoin","blockstack"].includes(t)?["bitcoin","blockstack"]:[t],n=async()=>await a.G8.getCoinsMarketData(e);return(0,o.a)({queryKey:["get-coins-market-data",e,i.DEFAULT_MAINNET.type],staleTime:3e5,queryFn:n,select:e=>e.find(e=>{let{id:n}=e;return t===n})})}},43951:function(t,e,n){n.d(e,{Z:function(){return l}});var a=n(31690),i=n(67294),o=()=>(0,i.useMemo)(()=>new a.gHs({network:a._Yo}),[]),r=n(14212),s=n(78551),c=n(24139),l=()=>{let t=(0,r.X)(t=>t.stacksAddress),e=o(),n=async()=>{let[n,a]=await Promise.all([e.getAddressBalance(null!=t?t:""),e.getAddressNonce(null!=t?t:"")]);return{...n,balance:n.totalBalance,locked:n.lockedBalance,nonce:a,transactions:[]}};return(0,s.a)({queryKey:["stx-wallet-data",t],queryFn:n,enabled:!!t,staleTime:1e4,placeholderData:c.Wk})}},41588:function(t,e,n){n.d(e,{V3:function(){return o},G8:function(){return u}});var a,i,o,r,s=n(8363),c=n(87066),l=n(70794);(a=o||(o={})).Bitcoin="btc",a.Stacks="stx",a.Solana="sol",a.Ethereum="eth",a.Arbitrum="arb",a.Base="base",a.Optimism="op",a.Bsc="bsc",a.Starknet="starknet",(i=r||(r={})).New="new",i.Waiting="waiting",i.Confirming="confirming",i.Exchanging="exchanging",i.Sending="sending",i.Finished="finished",i.Failed="failed",i.Refunded="refunded",i.Hold="hold",i.Overdue="overdue",i.Expired="expired";class d{constructor(){var t=this;this.getFeaturedDapps=async()=>(await this.client.get("/v2/featured/dapp")).data.featuredDapp,this.fetchStxToBtcRate=async()=>{var t,e;let n=await this.client.get("v1/prices/stx/btc");return new l.Z(null!==(e=null===(t=n.data)||void 0===t?void 0:t.stxBtcRate)&&void 0!==e?e:0)},this.fetchStrkToBtcRate=async()=>{var t,e;let n=await this.client.get("/v1/prices/strk/btc");return new l.Z(null!==(e=null===(t=n.data)||void 0===t?void 0:t.strkBtcRate)&&void 0!==e?e:0)},this.fetchBtcToCurrencyRate=async function(){var e,n;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"USD",i=await t.client.get("/v1/prices/btc/".concat(a));return new l.Z(null!==(n=null===(e=i.data)||void 0===e?void 0:e.btcFiatRate)&&void 0!==n?n:0)},this.getExchangeRates=async t=>(await this.client.get("/v2/exchange-rate?currency=".concat(t))).data,this.getTokenStatsAndInfo=async(t,e)=>(await this.client.get("/v2/token-stats-and-info",{params:{id:t,protocol:e}})).data,this.getRuneInfo=async t=>(await this.client.get("/v1/runes/".concat(t))).data,this.getBrc20Tokens=async(t,e)=>(await this.client.get("/v1/brc20/tokens",{params:{currency:e,tickers:t}})).data,this.getSip10TokensInfo=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return(await t.client.post("/v1/sip10/tokens",{currency:n,coins:JSON.stringify(e)})).data},this.getSip10TokenInfo=async t=>(await this.client.post("/v1/sip10/tokens",{currency:"USD",coins:JSON.stringify([t])})).data,this.getCoinsMarketData=async t=>(await this.client.get("/v2/coins-market-data?ids=".concat(t.join(",")))).data,this.getHistoricalData=async function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i={btc:"bitcoin",stx:"stacks"}[e.toLowerCase()]||e.toLowerCase();return(await t.client.get("/v2/historical-data?id=".concat(i,"&period=").concat(n))).data.map(t=>{let[e,n]=t;return{x:e,y:n*a,tooltipLabel:new Date(e).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hourCycle:"h23"})}})},this.getBtcFeeRate=async()=>(await this.client.get("/v1/fees/btc")).data,this.swaps={getSourceTokens:async t=>(await this.client.post("/v1/swaps/get-source-tokens",t)).data,getDestinationTokens:async t=>(await this.client.post("/v1/swaps/get-destination-tokens",t)).data,getQuotes:async t=>(await this.client.post("/v1/swaps/get-quotes",t)).data,placeOrder:async t=>(await this.client.post("/v1/swaps/place-xc-order",t)).data,getOrderHistory:async t=>(await this.client.post("/v1/swaps/get-order-history",t)).data,getStrkTokenBalance:async t=>(await this.client.get("/starknet/v1/tokenBalances?walletAddress=".concat(t))).data},this.stacking={fetchStackingPoolInfo:async()=>(await this.client.get("/v1/pool/info?pool_version=5")).data,fetchStackingData:async()=>(await this.client.get("/v1/pool/stacking-data/USD")).data,fetchStackerInfo:async t=>(await this.client.get("/v1/pool/".concat(t,"/status/web"))).data,fetchPoolParticipants:async()=>(await this.client.get("/v1/pool/participants")).data.poolParticipants},this.portfolio={getGlobalHistory:async t=>(await this.client.post(s.r8?"/v2/global-history":"/internal/v1/global-history",t)).data,getAddressBtcHistory:async(t,e)=>(await this.client.get(s.r8?"/v1/account/history":"/internal/v1/account/history",{params:{addresses:t,offset:e.offset,limit:e.limit,...e.token&&{token:e.token}}})).data},this.client=c.default.create({baseURL:s.S_,headers:{"Content-Type":"application/json","x-platform":"xverse-portal"}})}}let u=new d},14315:function(t,e,n){n.d(e,{P:function(){return i},r:function(){return o}});var a=n(41686);let i=a.ZP.div.withConfig({componentId:"sc-4f64522d-0"})(["display:flex;align-items:center;gap:",";"],t=>{let{theme:e}=t;return e.space.s}),o=a.ZP.div.withConfig({componentId:"sc-4f64522d-1"})(["display:flex;align-items:center;justify-content:center;flex-shrink:0;"])}}]);