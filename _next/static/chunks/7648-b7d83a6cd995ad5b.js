(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7648],{88648:function(t,e,n){"use strict";var r,i,o,s,a,u,c,f;function l(t){return e=>e[t]}n.d(e,{GE:function(){return i},Kn:function(){return o},TK:function(){return s},a_:function(){return r},mQ:function(){return l}}),(a=r||(r={}))[a.Mainnet=1]="Mainnet",a[a.Testnet=2147483648]="Testnet",(u=i||(i={}))[u.Mainnet=385875968]="Mainnet",u[u.Testnet=4278190080]="Testnet",r.Mainnet,(c=o||(o={}))[c.Mainnet=0]="Mainnet",c[c.Testnet=128]="Testnet",(f=s||(s={}))[f.MainnetSingleSig=22]="MainnetSingleSig",f[f.MainnetMultiSig=20]="MainnetMultiSig",f[f.TestnetSingleSig=26]="TestnetSingleSig",f[f.TestnetMultiSig=21]="TestnetMultiSig",o.Mainnet},29096:function(t,e,n){"use strict";n.d(e,{eN:function(){return s},vt:function(){return a},Wl:function(){return f},zD:function(){return h},tn:function(){return l}});let r={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}};async function i(t,e){let n={};return Object.assign(n,r,e),await fetch(t,n)}var o=n(88648);let s={chainId:o.a_.Mainnet,transactionVersion:o.Kn.Mainnet,peerNetworkId:o.GE.Mainnet,magicBytes:"X2",bootAddress:"SP000000000000000000002Q6VF78",addressVersion:{singleSig:o.TK.MainnetSingleSig,multiSig:o.TK.MainnetMultiSig},client:{baseUrl:"https://api.mainnet.hiro.so"}},a={chainId:o.a_.Testnet,transactionVersion:o.Kn.Testnet,peerNetworkId:o.GE.Testnet,magicBytes:"T2",bootAddress:"ST000000000000000000002AMW42H",addressVersion:{singleSig:o.TK.TestnetSingleSig,multiSig:o.TK.TestnetMultiSig},client:{baseUrl:"https://api.testnet.hiro.so"}},u={...a,addressVersion:{...a.addressVersion},magicBytes:"id",client:{baseUrl:"http://localhost:3999"}},c={...u,addressVersion:{...u.addressVersion},client:{...u.client}},f=["mainnet","testnet","devnet","mocknet"];function l(t){return"string"==typeof t?function(t){switch(t){case"mainnet":return s;case"testnet":return a;case"devnet":return u;case"mocknet":return c;default:throw Error(`Unknown network name: ${t}`)}}(t):t}function h(t){return t.client.fetch?t.client:{...t.client,fetch:function(...t){let e,n;let{fetchLib:r,middlewares:o}=(e=i,n=[],t.length>0&&"function"==typeof t[0]&&(e=t.shift()),t.length>0&&(n=t),{fetchLib:e,middlewares:n});return async(t,e)=>{let n={url:t,init:e??{}};for(let t of o)"function"==typeof t.pre&&(n=await Promise.resolve(t.pre({fetch:r,...n}))??n);let i=await r(n.url,n.init);for(let t of o)"function"==typeof t.post&&(i=await Promise.resolve(t.post({fetch:r,url:n.url,init:n.init,response:i?.clone()??i}))??i);return i}}()}}},67522:function(t,e,n){"use strict";n.d(e,{n:function(){return s}});var r=n(82398),i=n(41998);let o=new Map;class s{constructor(t){this.consumed=0,this.source="string"==typeof t?(0,r.nr)(t):t}readBytes(t){let e=this.source.subarray(this.consumed,this.consumed+t);return this.consumed+=t,e}readUInt32BE(){return(0,i.Ag)(this.readBytes(4),0)}readUInt8(){return(0,i.Q$)(this.readBytes(1),0)}readUInt16BE(){return(0,i.n8)(this.readBytes(2),0)}readBigUIntLE(t){let e=this.readBytes(t).slice().reverse(),n=(0,r.ci)(e);return BigInt(`0x${n}`)}readBigUIntBE(t){let e=this.readBytes(t),n=(0,r.ci)(e);return BigInt(`0x${n}`)}get readOffset(){return this.consumed}set readOffset(t){this.consumed=t}get internalBytes(){return this.source}readUInt8Enum(t,e){let n=this.readUInt8();if(function t(e,n){let r=o.get(e);if(void 0!==r)return r(n);let i=function(t){let e=new Set(Object.values(t).filter(t=>"number"==typeof t));return t=>e.has(t)}(e);return o.set(e,i),t(e,n)}(t,n))return n;throw e(n)}}},46551:function(t,e,n){"use strict";n.d(e,{c:function(){return s}});var r=n(29096),i=n(88648),o=n(96533);function s(t,e){switch(e=(0,r.tn)(e??r.eN),t){case o.dO.P2PKH:switch(e.transactionVersion){case i.Kn.Mainnet:return i.TK.MainnetSingleSig;case i.Kn.Testnet:return i.TK.TestnetSingleSig;default:throw Error(`Unexpected transactionVersion ${e.transactionVersion} for hashMode ${t}`)}case o.dO.P2SH:case o.dO.P2SHNonSequential:case o.dO.P2WPKH:case o.dO.P2WSH:case o.dO.P2WSHNonSequential:switch(e.transactionVersion){case i.Kn.Mainnet:return i.TK.MainnetMultiSig;case i.Kn.Testnet:return i.TK.TestnetMultiSig;default:throw Error(`Unexpected transactionVersion ${e.transactionVersion} for hashMode ${t}`)}default:throw Error(`Unexpected hashMode ${t}`)}}},31357:function(t,e,n){"use strict";n.d(e,{Bq:function(){return B},C:function(){return g},Cn:function(){return w},D9:function(){return V},Dt:function(){return x},Fd:function(){return k},GP:function(){return b},H3:function(){return E},JK:function(){return K},K2:function(){return j},P_:function(){return W},Pd:function(){return H},QP:function(){return S},Rh:function(){return p},TR:function(){return d},Tm:function(){return y},VX:function(){return $},XH:function(){return G},YD:function(){return C},Zi:function(){return I},_w:function(){return A},a6:function(){return U},dd:function(){return _},fc:function(){return R},fe:function(){return T},h$:function(){return F},lW:function(){return P},m5:function(){return M},nT:function(){return L},p1:function(){return N},vY:function(){return m}});var r=n(82398),i=n(41998),o=n(96533),s=n(30365),a=n(27406),u=n(12206),c=n(47238),f=n(32151),l=n(4865),h=n(7076);function d(){return{type:c.l.MessageSignature,data:(0,r.ci)(new Uint8Array(o.UE))}}function p(t){return"publicKey"in t?y(o.dO.P2PKH,t.publicKey,t.nonce,t.fee):g(o.dO.P2SH,t.numSignatures,t.publicKeys,t.nonce,t.fee)}function y(t,e,n,i){let s=(0,f.j3)(0,t,1,[(0,a.NG)(e)]).hash160,u=(0,a.EG)(e)?o.gW.Compressed:o.gW.Uncompressed;return{hashMode:t,signer:s,nonce:(0,r.HN)(n),fee:(0,r.HN)(i),keyEncoding:u,signature:d()}}function g(t,e,n,i,o){let s=n.map(a.NG),u=(0,f.j3)(0,t,e,s).hash160;return{hashMode:t,signer:u,nonce:(0,r.HN)(i),fee:(0,r.HN)(o),fields:[],signaturesRequired:e}}function b(t){return"signature"in t}function w(t){return t===o.dO.P2SH||t===o.dO.P2WSH}function m(t){return t===o.dO.P2SHNonSequential||t===o.dO.P2WSHNonSequential}function v(t){let e=(0,u.Xh)(t);return e.nonce=0,e.fee=0,b(e)?e.signature=d():e.fields=[],{...e,nonce:BigInt(0),fee:BigInt(0)}}function S(t){return(0,r.ci)(C(t))}function C(t){let e=[t.hashMode,(0,r.nr)(t.signer),(0,r.sO)(t.nonce,8),(0,r.sO)(t.fee,8),t.keyEncoding,(0,l.jL)(t.signature)];return(0,r.WW)(e)}function E(t){return(0,r.ci)(A(t))}function A(t){let e=[t.hashMode,(0,r.nr)(t.signer),(0,r.sO)(t.nonce,8),(0,r.sO)(t.fee,8)],n=(0,h.lZ)(t.fields);e.push((0,l.d6)(n));let o=new Uint8Array(2);return(0,i.cQ)(o,t.signaturesRequired,0),e.push(o),(0,r.WW)(e)}function x(t,e){let n=(0,r.ci)(e.readBytes(20)),i=BigInt(`0x${(0,r.ci)(e.readBytes(8))}`),a=BigInt(`0x${(0,r.ci)(e.readBytes(8))}`),u=e.readUInt8Enum(o.gW,t=>{throw new s.xv(`Could not parse ${t} as PubKeyEncoding`)});if(t===o.dO.P2WPKH&&u!=o.gW.Compressed)throw new s.xv("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");return{hashMode:t,signer:n,nonce:i,fee:a,keyEncoding:u,signature:(0,l.FM)(e)}}function T(t,e){let n=(0,r.ci)(e.readBytes(20)),i=BigInt("0x"+(0,r.ci)(e.readBytes(8))),u=BigInt("0x"+(0,r.ci)(e.readBytes(8))),f=(0,l.nt)(e,c.l.TransactionAuthField).values,h=!1,d=0;for(let t of f)switch(t.contents.type){case c.l.PublicKey:(0,a.EG)(t.contents.data)||(h=!0);break;case c.l.MessageSignature:if(t.pubKeyEncoding===o.gW.Uncompressed&&(h=!0),65536===(d+=1))throw new s.S6("Failed to parse multisig spending condition: too many signatures")}let p=e.readUInt16BE();if(h&&(t===o.dO.P2WSH||t===o.dO.P2WSHNonSequential))throw new s.S6("Uncompressed keys are not allowed in this hash mode");return{hashMode:t,signer:n,nonce:i,fee:u,fields:f,signaturesRequired:p}}function B(t){return(0,r.ci)(I(t))}function I(t){return b(t)?C(t):A(t)}function P(t){let e=t.readUInt8Enum(o.dO,t=>{throw new s.xv(`Could not parse ${t} as AddressHashMode`)});return e===o.dO.P2PKH||e===o.dO.P2WPKH?x(e,t):T(e,t)}function $(t,e,n,i){let o=t+(0,r.ci)(new Uint8Array([e]))+(0,r.ci)((0,r.sO)(n,8))+(0,r.ci)((0,r.sO)(i,8));if(49!==(0,r.nr)(o).byteLength)throw Error("Invalid signature hash length");return(0,u.G8)((0,r.nr)(o))}function O(t,e,n){let i=33+o.UE,s=(0,a.EG)(e.data)?o.gW.Compressed:o.gW.Uncompressed,c=t+(0,u.c1)(s.toString(16))+n,f=(0,r.nr)(c);if(f.byteLength>i)throw Error("Invalid signature hash length");return(0,u.G8)(f)}function U(t,e,n,r,i){let o=$(t,e,n,r),s=(0,a.fJ)(i,o),u=O(o,(0,a.NG)((0,a.li)(i)),s);return{nextSig:s,nextSigHash:u}}function k(t,e,n,r,i,o){let s=$(t,e,n,r),u=(0,a.NG)((0,a.D5)(s,o,i)),c=O(s,u,o);return{pubKey:u,nextSigHash:c}}function H(t){return{authType:o.Gr.Standard,spendingCondition:t}}function N(t,e){return{authType:o.Gr.Sponsored,spendingCondition:t,sponsorSpendingCondition:e||y(o.dO.P2PKH,"0".repeat(66),0,0)}}function M(t){if(t.spendingCondition)switch(t.authType){case o.Gr.Standard:return H(v(t.spendingCondition));case o.Gr.Sponsored:return N(v(t.spendingCondition),function(){let t=y(o.dO.P2PKH,"",0,0);return t.signer=(0,h.Qm)().hash160,t.keyEncoding=o.gW.Compressed,t.signature=d(),t}());default:throw new s.g9("Unexpected authorization type for signing")}throw Error("Authorization missing SpendingCondition")}function _(t,e){switch(t.authType){case o.Gr.Standard:case o.Gr.Sponsored:var n,r;return n=t.spendingCondition,r=o.Gr.Standard,b(n)?function(t,e,n){let{pubKey:r,nextSigHash:i}=k(e,n,t.fee,t.nonce,t.keyEncoding,t.signature.data),o=(0,f.j3)(0,t.hashMode,1,[r]).hash160;if(o!==t.signer)throw new s.S6(`Signer hash does not equal hash of public key(s): ${o} != ${t.signer}`);return i}(n,e,r):function(t,e,n){let r=[],i=e,u=!1,l=0;for(let e of t.fields)switch(e.contents.type){case c.l.PublicKey:(0,a.EG)(e.contents.data)||(u=!0),r.push(e.contents);break;case c.l.MessageSignature:e.pubKeyEncoding===o.gW.Uncompressed&&(u=!0);let{pubKey:f,nextSigHash:h}=k(i,n,t.fee,t.nonce,e.pubKeyEncoding,e.contents.data);if(w(t.hashMode)&&(i=h),r.push(f),65536===(l+=1))throw new s.S6("Too many signatures")}if(w(t.hashMode)&&l!==t.signaturesRequired||m(t.hashMode)&&l<t.signaturesRequired)throw new s.S6("Incorrect number of signatures");if(u&&(t.hashMode===o.dO.P2WSH||t.hashMode===o.dO.P2WSHNonSequential))throw new s.S6("Uncompressed keys are not allowed in this hash mode");let h=(0,f.j3)(0,t.hashMode,t.signaturesRequired,r).hash160;if(h!==t.signer)throw new s.S6(`Signer hash does not equal hash of public key(s): ${h} != ${t.signer}`);return i}(n,e,r);default:throw new s.g9("Invalid origin auth type")}}function W(t,e){switch(t.authType){case o.Gr.Standard:let n={...t.spendingCondition,fee:(0,r.HN)(e)};return{...t,spendingCondition:n};case o.Gr.Sponsored:let i={...t.sponsorSpendingCondition,fee:(0,r.HN)(e)};return{...t,sponsorSpendingCondition:i}}}function K(t){switch(t.authType){case o.Gr.Standard:return t.spendingCondition.fee;case o.Gr.Sponsored:return t.sponsorSpendingCondition.fee}}function L(t,e){let n={...t.spendingCondition,nonce:(0,r.HN)(e)};return{...t,spendingCondition:n}}function j(t,e){let n={...t.sponsorSpendingCondition,nonce:(0,r.HN)(e)};return{...t,sponsorSpendingCondition:n}}function R(t,e){let n={...e,nonce:(0,r.HN)(e.nonce),fee:(0,r.HN)(e.fee)};return{...t,sponsorSpendingCondition:n}}function F(t){return(0,r.ci)(V(t))}function V(t){let e=[];switch(e.push(t.authType),t.authType){case o.Gr.Standard:e.push(I(t.spendingCondition));break;case o.Gr.Sponsored:e.push(I(t.spendingCondition)),e.push(I(t.sponsorSpendingCondition))}return(0,r.WW)(e)}function G(t){let e;switch(t.readUInt8Enum(o.Gr,t=>{throw new s.xv(`Could not parse ${t} as AuthType`)})){case o.Gr.Standard:return H(P(t));case o.Gr.Sponsored:return N(P(t),P(t))}}},57648:function(t,e,n){"use strict";n.d(e,{Qe:function(){return S},R8:function(){return b},RI:function(){return m},W5:function(){return v},Xz:function(){return E},b7:function(){return C},lB:function(){return w}});var r=n(29096),i=n(27701),o=n(31357),s=n(96533),a=n(98461),u=n(38395),c=n(27406),f=n(37903),l=n(44303),h=n(90921),d=n(12206),p=n(7076),y=n(4865),g=n(32151);async function b(t){let e=Object.assign({fee:BigInt(0),nonce:BigInt(0),network:r.eN,memo:"",sponsored:!1},t);e.network=(0,r.tn)(e.network),e.client=Object.assign({},(0,r.zD)(e.network),t.client);let n=(0,p.qu)(e.recipient,e.amount,e.memo),a=null;if("publicKey"in e)a=(0,o.Tm)(s.dO.P2PKH,e.publicKey,e.nonce,e.fee);else{let t=e.useNonSequentialMultiSig?s.dO.P2SHNonSequential:s.dO.P2SH,n=e.address?x(e.publicKeys.map(c.TO),e.numSignatures,t,(0,p.p6)(e.address).hash160):e.publicKeys.map(c.TO);a=(0,o.C)(t,e.numSignatures,n,e.nonce,e.fee)}let f=e.sponsored?(0,o.p1)(a):(0,o.Pd)(a),l=new h.Ak({transactionVersion:e.network.transactionVersion,chainId:e.network.chainId,auth:f,payload:n});if(null==t.fee){let t=await (0,u.Yu)({transaction:l,...e});l.setFee(t)}if(null==t.nonce){let t=e.network.addressVersion.singleSig,n=(0,i.H4)(t,l.auth.spendingCondition.signer),r=await (0,u.ky)({address:n,...e});l.setNonce(r)}return l}async function w(t){if("senderKey"in t){let e=(0,c.li)(t.senderKey),n=(0,d.CE)(t,"senderKey"),r=await b({publicKey:e,...n}),i=t.senderKey;return new l.p(r).signOrigin(i),r}{let e=(0,d.CE)(t,"signerKeys"),n=await b(e);return A(n,t.publicKeys.map(c.TO).slice(),t.signerKeys.map(c.tN),t.address),n}}async function m(t){if("senderKey"in t){let e=(0,c.li)(t.senderKey),n=(0,d.CE)(t,"senderKey"),r=await v({publicKey:e,...n}),i=t.senderKey;return new l.p(r).signOrigin(i),r}{let e=(0,d.CE)(t,"signerKeys"),n=await v(e);return A(n,t.publicKeys.map(c.TO).slice(),t.signerKeys.map(c.tN),t.address),n}}async function v(t){let e=Object.assign({fee:BigInt(0),nonce:BigInt(0),network:r.eN,postConditionMode:s.hW.Deny,sponsored:!1,clarityVersion:s.y.Clarity3},t);e.network=(0,r.tn)(e.network),e.client=Object.assign({},(0,r.zD)(e.network),t.client),e.postConditionMode=(0,f.Mf)(e.postConditionMode);let n=(0,p.UN)(e.contractName,e.codeBody,e.clarityVersion),a=null;if("publicKey"in e)a=(0,o.Tm)(s.dO.P2PKH,e.publicKey,e.nonce,e.fee);else{let t=e.useNonSequentialMultiSig?s.dO.P2SHNonSequential:s.dO.P2SH,n=e.address?x(e.publicKeys.map(c.TO),e.numSignatures,t,(0,p.p6)(e.address).hash160):e.publicKeys.map(c.TO);a=(0,o.C)(t,e.numSignatures,n,e.nonce,e.fee)}let l=e.sponsored?(0,o.p1)(a):(0,o.Pd)(a),d=(e.postConditions??[]).map(t=>"string"==typeof t?(0,y._I)(t):"string"==typeof t.type?(0,f.aA)(t):t),g=(0,p.lZ)(d),b=new h.Ak({transactionVersion:e.network.transactionVersion,chainId:e.network.chainId,auth:l,payload:n,postConditions:g,postConditionMode:e.postConditionMode});if(void 0===t.fee||null===t.fee){let t=await (0,u.Yu)({transaction:b,...e});b.setFee(t)}if(void 0===t.nonce||null===t.nonce){let t=e.network.addressVersion.singleSig,n=(0,i.H4)(t,b.auth.spendingCondition.signer),r=await (0,u.ky)({address:n,...e});b.setNonce(r)}return b}async function S(t){let e=Object.assign({fee:BigInt(0),nonce:BigInt(0),network:r.eN,postConditionMode:s.hW.Deny,sponsored:!1},t);e.network=(0,r.tn)(e.network),e.client=Object.assign({},(0,r.zD)(e.network),e.client),e.postConditionMode=(0,f.Mf)(e.postConditionMode);let n=(0,p.ql)(e.contractAddress,e.contractName,e.functionName,e.functionArgs);if(e?.validateWithAbi){let t;if("boolean"==typeof e.validateWithAbi){if(e?.network)t=await (0,u.GY)({...e});else throw Error("Network option must be provided in order to validate with ABI")}else t=e.validateWithAbi;(0,a.IS)(n,t)}let l=null;if("publicKey"in e)l=(0,o.Tm)(s.dO.P2PKH,e.publicKey,e.nonce,e.fee);else{let t=e.useNonSequentialMultiSig?s.dO.P2SHNonSequential:s.dO.P2SH,n=e.address?x(e.publicKeys.map(c.TO),e.numSignatures,t,(0,p.p6)(e.address).hash160):e.publicKeys.map(c.TO);l=(0,o.C)(t,e.numSignatures,n,e.nonce,e.fee)}let d=e.sponsored?(0,o.p1)(l):(0,o.Pd)(l),g=(e.postConditions??[]).map(t=>"string"==typeof t?(0,y._I)(t):"string"==typeof t.type?(0,f.aA)(t):t),b=(0,p.lZ)(g),w=new h.Ak({transactionVersion:e.network.transactionVersion,chainId:e.network.chainId,auth:d,payload:n,postConditions:b,postConditionMode:e.postConditionMode});if(void 0===t.fee||null===t.fee){let t=await (0,u.Yu)({transaction:w,...e});w.setFee(t)}if(void 0===t.nonce||null===t.nonce){let t=e.network.addressVersion.singleSig,n=(0,i.H4)(t,w.auth.spendingCondition.signer),r=await (0,u.ky)({address:n,...e});w.setNonce(r)}return w}async function C(t){if("senderKey"in t){let e=(0,c.li)(t.senderKey),n=(0,d.CE)(t,"senderKey"),r=await S({publicKey:e,...n}),i=t.senderKey;return new l.p(r).signOrigin(i),r}{let e=(0,d.CE)(t,"signerKeys"),n=await S(e);return A(n,t.publicKeys.map(c.TO).slice(),t.signerKeys.map(c.tN),t.address),n}}async function E(t){let e=Object.assign({fee:0,sponsorNonce:0,sponsorAddressHashmode:s.dO.P2PKH,network:(0,h.Ne)(t.transaction)},t);e.network=(0,r.tn)(e.network),e.client=Object.assign({},(0,r.zD)(e.network),e.client);let n=(0,c.li)(e.sponsorPrivateKey);if(null==t.fee){let t=0;switch(e.transaction.payload.payloadType){case s.MX.TokenTransfer:case s.MX.SmartContract:case s.MX.VersionedSmartContract:case s.MX.ContractCall:t=BigInt(await (0,u.Yu)({...e}));break;default:throw Error(`Sponsored transactions not supported for transaction type ${s.MX[e.transaction.payload.payloadType]}`)}e.transaction.setFee(t),e.fee=t}if(null==t.sponsorNonce){let t=e.network.addressVersion.singleSig,r=(0,c.y7)(t,n),i=await (0,u.ky)({address:r,...e});e.sponsorNonce=i}let i=(0,o.Tm)(e.sponsorAddressHashmode,n,e.sponsorNonce,e.fee);e.transaction.setSponsor(i);let a=e.sponsorPrivateKey,f=l.p.createSponsorSigner(e.transaction,i);return f.signSponsor(a),f.transaction}function A(t,e,n,r){if((0,o.GP)(t.auth.spendingCondition))throw Error("Transaction is not a multi-sig transaction");let i=new l.p(t);for(let o of r?x(e,t.auth.spendingCondition.signaturesRequired,t.auth.spendingCondition.hashMode,(0,p.p6)(r).hash160):e){let t=n.find(t=>(0,c.li)(t)===o);t?i.signOrigin(t):i.appendOrigin(o)}}function x(t,e,n,r){if((0,g.j3)(0,n,e,t.map(c.NG)).hash160===r)return t;let i=t.slice().sort();if((0,g.j3)(0,n,e,i.map(c.NG)).hash160===r)return i;throw Error("Failed to find matching multi-sig address given public-keys.")}},18422:function(t,e,n){"use strict";n.d(e,{Is:function(){return function t(e,n="hex"){switch(e.type){case r.yp.BoolTrue:return"true";case r.yp.BoolFalse:return"false";case r.yp.Int:return e.value.toString();case r.yp.UInt:return`u${e.value.toString()}`;case r.yp.Buffer:if("tryAscii"===n){let t=(0,i.Qs)((0,i.nr)(e.value));if(/[ -~]/.test(t))return JSON.stringify(t)}return`0x${e.value}`;case r.yp.OptionalNone:return"none";case r.yp.OptionalSome:return`(some ${t(e.value,n)})`;case r.yp.ResponseErr:return`(err ${t(e.value,n)})`;case r.yp.ResponseOk:return`(ok ${t(e.value,n)})`;case r.yp.PrincipalStandard:case r.yp.PrincipalContract:return e.value;case r.yp.List:return`(list ${e.value.map(e=>t(e,n)).join(" ")})`;case r.yp.Tuple:return`(tuple ${Object.keys(e.value).map(r=>`(${r} ${t(e.value[r],n)})`).join(" ")})`;case r.yp.StringASCII:return`"${e.value}"`;case r.yp.StringUTF8:return`u"${e.value}"`}}},Tf:function(){return u},YN:function(){return s},eH:function(){return a},md:function(){return o}});var r=n(18209),i=n(82398);function o(t,e=!1){switch(t.type){case r.yp.BoolTrue:return!0;case r.yp.BoolFalse:return!1;case r.yp.Int:case r.yp.UInt:if(e)return t.value.toString();return t.value;case r.yp.Buffer:return`0x${t.value}`;case r.yp.OptionalNone:return null;case r.yp.OptionalSome:case r.yp.ResponseErr:case r.yp.ResponseOk:return s(t.value);case r.yp.PrincipalStandard:case r.yp.PrincipalContract:return t.value;case r.yp.List:return t.value.map(t=>s(t));case r.yp.Tuple:let n={};return Object.keys(t.value).forEach(e=>{n[e]=s(t.value[e])}),n;case r.yp.StringASCII:case r.yp.StringUTF8:return t.value}}function s(t){switch(t.type){case r.yp.ResponseErr:return{type:a(t),value:o(t,!0),success:!1};case r.yp.ResponseOk:return{type:a(t),value:o(t,!0),success:!0};default:return{type:a(t),value:o(t,!0)}}}function a(t){switch(t.type){case r.yp.BoolTrue:case r.yp.BoolFalse:return"bool";case r.yp.Int:return"int";case r.yp.UInt:return"uint";case r.yp.Buffer:return`(buff ${Math.ceil(t.value.length/2)})`;case r.yp.OptionalNone:return"(optional none)";case r.yp.OptionalSome:return`(optional ${a(t.value)})`;case r.yp.ResponseErr:return`(response UnknownType ${a(t.value)})`;case r.yp.ResponseOk:return`(response ${a(t.value)} UnknownType)`;case r.yp.PrincipalStandard:case r.yp.PrincipalContract:return"principal";case r.yp.List:return`(list ${t.value.length} ${t.value.length?a(t.value[0]):"UnknownType"})`;case r.yp.Tuple:return`(tuple ${Object.keys(t.value).map(e=>`(${e} ${a(t.value[e])})`).join(" ")})`;case r.yp.StringASCII:return`(string-ascii ${(0,i.QD)(t.value).length})`;case r.yp.StringUTF8:return`(string-utf8 ${(0,i.iY)(t.value).length})`}}function u(t,e){return t.type===e}},18209:function(t,e,n){"use strict";var r,i,o,s;function a(t){return i[t]}function u(t){return i[t]}n.d(e,{QM:function(){return i},UM:function(){return u},YC:function(){return a},yp:function(){return r}}),(o=r||(r={})).Int="int",o.UInt="uint",o.Buffer="buffer",o.BoolTrue="true",o.BoolFalse="false",o.PrincipalStandard="address",o.PrincipalContract="contract",o.ResponseOk="ok",o.ResponseErr="err",o.OptionalNone="none",o.OptionalSome="some",o.List="list",o.Tuple="tuple",o.StringASCII="ascii",o.StringUTF8="utf8",(s=i||(i={}))[s.int=0]="int",s[s.uint=1]="uint",s[s.buffer=2]="buffer",s[s.true=3]="true",s[s.false=4]="false",s[s.address=5]="address",s[s.contract=6]="contract",s[s.ok=7]="ok",s[s.err=8]="err",s[s.none=9]="none",s[s.some=10]="some",s[s.list=11]="list",s[s.tuple=12]="tuple",s[s.ascii=13]="ascii",s[s.utf8=14]="utf8"},63989:function(t,e,n){"use strict";n.d(e,{i:function(){return function t(e){let n;if("string"==typeof e){let t="0x"===e.slice(0,2).toLowerCase();n=new p.n((0,r.nr)(t?e.slice(2):e))}else e instanceof Uint8Array?n=new p.n(e):n=e;switch(n.readUInt8Enum(i.QM,t=>{throw new y.xv(`Cannot recognize Clarity Type: ${t}`)})){case i.QM.int:return(0,o.q)((0,r.cn)(n.readBytes(16)));case i.QM.uint:return(0,o.R)(n.readBytes(16));case i.QM.buffer:let b=n.readUInt32BE();return(0,s.B)(n.readBytes(b));case i.QM.true:return(0,a.nC)();case i.QM.false:return(0,a.ef)();case i.QM.address:let w=(0,g.BR)(n);return(0,u.D9)(w);case i.QM.contract:let m=(0,g.BR)(n),v=(0,g.ET)(n);return(0,u.I0)(m,v);case i.QM.ok:return(0,c.R)(t(n));case i.QM.err:return(0,c.I)(t(n));case i.QM.none:return(0,f.hr)();case i.QM.some:return(0,f.PK)(t(n));case i.QM.list:let S=n.readUInt32BE(),C=[];for(let e=0;e<S;e++)C.push(t(n));return(0,l.B)(C);case i.QM.tuple:let E=n.readUInt32BE(),A={};for(let e=0;e<E;e++){let e=(0,g.ET)(n).content;if(void 0===e)throw new y.xv('"content" is undefined');A[e]=t(n)}return(0,h.M)(A);case i.QM.ascii:let x=n.readUInt32BE(),T=(0,r.Qs)(n.readBytes(x));return(0,d.jx)(T);case i.QM.utf8:let B=n.readUInt32BE(),I=(0,r.Md)(n.readBytes(B));return(0,d.M0)(I);default:throw new y.xv("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}}});var r=n(82398),i=n(18209),o=n(85519),s=n(55128),a=n(2248),u=n(11616),c=n(55460),f=n(5469),l=n(92271),h=n(81366),d=n(11468),p=n(67522),y=n(30365),g=n(4865)},95298:function(t,e,n){"use strict";n.d(e,{E:function(){return p},a:function(){return d}});var r=n(82398),i=n(41998),o=n(96533),s=n(30365),a=n(12206),u=n(4865),c=n(7076),f=n(18209);function l(t,e){return(0,r.WW)([(0,f.YC)(t),e])}function h(t,e){let n=[],o="ascii"==e?(0,r.QD)(t.value):(0,r.iY)(t.value),s=new Uint8Array(4);return(0,i.T4)(s,o.length,0),n.push(s),n.push(o),l(t.type,(0,r.WW)(n))}function d(t){return(0,r.ci)(p(t))}function p(t){switch(t.type){case f.yp.BoolTrue:case f.yp.BoolFalse:return new Uint8Array([(0,f.YC)(t.type)]);case f.yp.OptionalNone:case f.yp.OptionalSome:return t.type===f.yp.OptionalNone?new Uint8Array([(0,f.YC)(t.type)]):l(t.type,p(t.value));case f.yp.Buffer:return function(t){let e=new Uint8Array(4);return(0,i.T4)(e,Math.ceil(t.value.length/2),0),l(t.type,(0,r.eV)(e,(0,r.nr)(t.value)))}(t);case f.yp.UInt:return function(t){let e=(0,r.jk)(BigInt(t.value),o.Pe);return l(t.type,e)}(t);case f.yp.Int:return function(t){let e=(0,r.jk)((0,r.$j)(BigInt(t.value),BigInt(o.Nv)),o.Pe);return l(t.type,e)}(t);case f.yp.PrincipalStandard:return l(t.type,(0,u.lU)((0,c.p6)(t.value)));case f.yp.PrincipalContract:return function(t){let[e,n]=(0,a.ZC)(t.value);return l(t.type,(0,r.eV)((0,u.lU)((0,c.p6)(e)),(0,u.ot)((0,c.v9)(n))))}(t);case f.yp.ResponseOk:case f.yp.ResponseErr:return l(t.type,p(t.value));case f.yp.List:return function(t){let e=[],n=new Uint8Array(4);for(let r of((0,i.T4)(n,t.value.length,0),e.push(n),t.value)){let t=p(r);e.push(t)}return l(t.type,(0,r.WW)(e))}(t);case f.yp.Tuple:return function(t){let e=[],n=new Uint8Array(4);for(let r of((0,i.T4)(n,Object.keys(t.value).length,0),e.push(n),Object.keys(t.value).sort((t,e)=>t.localeCompare(e)))){let n=(0,c.v9)(r);e.push((0,u.ot)(n));let i=p(t.value[r]);e.push(i)}return l(t.type,(0,r.WW)(e))}(t);case f.yp.StringASCII:return h(t,"ascii");case f.yp.StringUTF8:return h(t,"utf8");default:throw new s.TH("Unable to serialize. Invalid Clarity Value.")}}},2248:function(t,e,n){"use strict";n.d(e,{H3:function(){return s},ef:function(){return o},nC:function(){return i}});var r=n(18209);let i=()=>({type:r.yp.BoolTrue}),o=()=>({type:r.yp.BoolFalse}),s=t=>t?i():o()},55128:function(t,e,n){"use strict";n.d(e,{B:function(){return o},f:function(){return s}});var r=n(82398),i=n(18209);let o=t=>{if(t.byteLength>1048576)throw Error("Cannot construct clarity buffer that is greater than 1MB");return{type:i.yp.Buffer,value:(0,r.ci)(t)}},s=t=>o((0,r.iY)(t))},85519:function(t,e,n){"use strict";n.d(e,{R:function(){return f},q:function(){return c}});var r=n(82398),i=n(18209);let o=BigInt("0xffffffffffffffffffffffffffffffff"),s=BigInt(0),a=BigInt("0x7fffffffffffffffffffffffffffffff"),u=BigInt("-170141183460469231731687303715884105728"),c=t=>{"string"==typeof t&&t.toLowerCase().startsWith("0x")&&(t=(0,r.cn)((0,r.nr)(t))),(0,r.$O)(t,Uint8Array)&&(t=(0,r.cn)(t));let e=(0,r.HN)(t);if(e>a)throw RangeError(`Cannot construct clarity integer from value greater than ${a}`);if(e<u)throw RangeError(`Cannot construct clarity integer form value less than ${u}`);return{type:i.yp.Int,value:e}},f=t=>{let e=(0,r.HN)(t);if(e<s)throw RangeError("Cannot construct unsigned clarity integer from negative value");if(e>o)throw RangeError(`Cannot construct unsigned clarity integer greater than ${o}`);return{type:i.yp.UInt,value:e}}},92271:function(t,e,n){"use strict";n.d(e,{B:function(){return i}});var r=n(18209);function i(t){return{type:r.yp.List,value:t}}},5469:function(t,e,n){"use strict";n.d(e,{PK:function(){return o},hr:function(){return i},mw:function(){return s}});var r=n(18209);function i(){return{type:r.yp.OptionalNone}}function o(t){return{type:r.yp.OptionalSome,value:t}}function s(t){return t?o(t):i()}},11616:function(t,e,n){"use strict";n.d(e,{D9:function(){return c},I0:function(){return l},L0:function(){return a},Op:function(){return u},U2:function(){return h},tM:function(){return f}});var r=n(82398),i=n(7076),o=n(32151),s=n(18209);function a(t){if(!t.includes("."))return u(t);{let[e,n]=t.split(".");return f(e,n)}}function u(t){let e=(0,i.p6)(t);return{type:s.yp.PrincipalStandard,value:(0,o.VM)(e)}}function c(t){return{type:s.yp.PrincipalStandard,value:(0,o.VM)(t)}}function f(t,e){return l((0,i.p6)(t),(0,i.v9)(e))}function l(t,e){if((0,r.iY)(e.content).byteLength>=128)throw Error("Contract name must be less than 128 bytes");return{type:s.yp.PrincipalContract,value:`${(0,o.VM)(t)}.${e.content}`}}function h(t,e){return{type:s.yp.PrincipalContract,value:`${t.value}.${e}`}}},55460:function(t,e,n){"use strict";n.d(e,{I:function(){return i},R:function(){return o}});var r=n(18209);function i(t){return{type:r.yp.ResponseErr,value:t}}function o(t){return{type:r.yp.ResponseOk,value:t}}},11468:function(t,e,n){"use strict";n.d(e,{M0:function(){return o},jx:function(){return i},u9:function(){return s}});var r=n(18209);let i=t=>({type:r.yp.StringASCII,value:t}),o=t=>({type:r.yp.StringUTF8,value:t}),s=(t,e)=>{switch(e){case"ascii":return i(t);case"utf8":return o(t)}}},81366:function(t,e,n){"use strict";n.d(e,{M:function(){return o}});var r=n(18209),i=n(12206);function o(t){for(let e in t)if(!(0,i.YI)(e))throw Error(`"${e}" is not a valid Clarity name`);return{type:r.yp.Tuple,value:t}}},96533:function(t,e,n){"use strict";n.d(e,{Am:function(){return B},Cy:function(){return N},DY:function(){return T},GY:function(){return W},Gr:function(){return E},Jn:function(){return U},LT:function(){return G},MX:function(){return w},Nv:function(){return M},Pe:function(){return _},TK:function(){return k.TK},UE:function(){return L},V3:function(){return O},Z:function(){return X},ZA:function(){return K},_d:function(){return $},dO:function(){return A},dV:function(){return F},gW:function(){return x},h3:function(){return P},hW:function(){return S},m4:function(){return I},nz:function(){return V},sM:function(){return H},sX:function(){return C},u0:function(){return v},wS:function(){return R},y:function(){return m},yl:function(){return j}});var r,i,o,s,a,u,c,f,l,h,d,p,y,g,b,w,m,v,S,C,E,A,x,T,B,I,P,$,O,U,k=n(88648);let H="https://hub.blockstack.org",N=128,M=128,_=16,W=32,K=80,L=65,j=32,R=64,F=34,V=16778054;(r=w||(w={}))[r.TokenTransfer=0]="TokenTransfer",r[r.SmartContract=1]="SmartContract",r[r.VersionedSmartContract=6]="VersionedSmartContract",r[r.ContractCall=2]="ContractCall",r[r.PoisonMicroblock=3]="PoisonMicroblock",r[r.Coinbase=4]="Coinbase",r[r.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",r[r.TenureChange=7]="TenureChange",r[r.NakamotoCoinbase=8]="NakamotoCoinbase",(i=m||(m={}))[i.Clarity1=1]="Clarity1",i[i.Clarity2=2]="Clarity2",i[i.Clarity3=3]="Clarity3",(o=v||(v={}))[o.OnChainOnly=1]="OnChainOnly",o[o.OffChainOnly=2]="OffChainOnly",o[o.Any=3]="Any";let G=["onChainOnly","offChainOnly","any"],D={[G[0]]:v.OnChainOnly,[G[1]]:v.OffChainOnly,[G[2]]:v.Any,[v.OnChainOnly]:v.OnChainOnly,[v.OffChainOnly]:v.OffChainOnly,[v.Any]:v.Any};function X(t){if(t in D)return D[t];throw Error(`Invalid anchor mode "${t}", must be one of: ${G.join(", ")}`)}(s=S||(S={}))[s.Allow=1]="Allow",s[s.Deny=2]="Deny",(a=C||(C={}))[a.STX=0]="STX",a[a.Fungible=1]="Fungible",a[a.NonFungible=2]="NonFungible",(u=E||(E={}))[u.Standard=4]="Standard",u[u.Sponsored=5]="Sponsored",(c=A||(A={}))[c.P2PKH=0]="P2PKH",c[c.P2SH=1]="P2SH",c[c.P2WPKH=2]="P2WPKH",c[c.P2WSH=3]="P2WSH",c[c.P2SHNonSequential=5]="P2SHNonSequential",c[c.P2WSHNonSequential=7]="P2WSHNonSequential",(f=x||(x={}))[f.Compressed=0]="Compressed",f[f.Uncompressed=1]="Uncompressed",(l=T||(T={}))[l.Equal=1]="Equal",l[l.Greater=2]="Greater",l[l.GreaterEqual=3]="GreaterEqual",l[l.Less=4]="Less",l[l.LessEqual=5]="LessEqual",(h=B||(B={}))[h.Sends=16]="Sends",h[h.DoesNotSend=17]="DoesNotSend",(d=I||(I={}))[d.Origin=1]="Origin",d[d.Standard=2]="Standard",d[d.Contract=3]="Contract",(p=P||(P={}))[p.STX=0]="STX",p[p.Fungible=1]="Fungible",p[p.NonFungible=2]="NonFungible",(y=$||($={}))[y.BlockFound=0]="BlockFound",y[y.Extended=1]="Extended",(g=O||(O={}))[g.PublicKeyCompressed=0]="PublicKeyCompressed",g[g.PublicKeyUncompressed=1]="PublicKeyUncompressed",g[g.SignatureCompressed=2]="SignatureCompressed",g[g.SignatureUncompressed=3]="SignatureUncompressed",(b=U||(U={})).Serialization="Serialization",b.Deserialization="Deserialization",b.SignatureValidation="SignatureValidation",b.FeeTooLow="FeeTooLow",b.BadNonce="BadNonce",b.NotEnoughFunds="NotEnoughFunds",b.NoSuchContract="NoSuchContract",b.NoSuchPublicFunction="NoSuchPublicFunction",b.BadFunctionArgument="BadFunctionArgument",b.ContractAlreadyExists="ContractAlreadyExists",b.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",b.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",b.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",b.BadAddressVersionByte="BadAddressVersionByte",b.NoCoinbaseViaMempool="NoCoinbaseViaMempool",b.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",b.ServerFailureDatabase="ServerFailureDatabase",b.ServerFailureOther="ServerFailureOther"},98461:function(t,e,n){"use strict";n.d(e,{Af:function(){return A},Fj:function(){return $},IS:function(){return P},Q:function(){return i},T_:function(){return x},V4:function(){return w},W3:function(){return b},a_:function(){return S},ad:function(){return B},bf:function(){return E},gf:function(){return v},oD:function(){return I},rc:function(){return T},uT:function(){return m},vH:function(){return g},xR:function(){return C}});var r,i,o=n(82398),s=n(85519),a=n(2248),u=n(11616),c=n(5469),f=n(55128),l=n(11468),h=n(18209),d=n(18422),p=n(30365),y=n(12206);(r=i||(i={}))[r.ClarityAbiTypeUInt128=1]="ClarityAbiTypeUInt128",r[r.ClarityAbiTypeInt128=2]="ClarityAbiTypeInt128",r[r.ClarityAbiTypeBool=3]="ClarityAbiTypeBool",r[r.ClarityAbiTypePrincipal=4]="ClarityAbiTypePrincipal",r[r.ClarityAbiTypeNone=5]="ClarityAbiTypeNone",r[r.ClarityAbiTypeBuffer=6]="ClarityAbiTypeBuffer",r[r.ClarityAbiTypeResponse=7]="ClarityAbiTypeResponse",r[r.ClarityAbiTypeOptional=8]="ClarityAbiTypeOptional",r[r.ClarityAbiTypeTuple=9]="ClarityAbiTypeTuple",r[r.ClarityAbiTypeList=10]="ClarityAbiTypeList",r[r.ClarityAbiTypeStringAscii=11]="ClarityAbiTypeStringAscii",r[r.ClarityAbiTypeStringUtf8=12]="ClarityAbiTypeStringUtf8",r[r.ClarityAbiTypeTraitReference=13]="ClarityAbiTypeTraitReference";let g=t=>"string"==typeof t,b=t=>void 0!==t.buffer,w=t=>void 0!==t["string-ascii"],m=t=>void 0!==t["string-utf8"],v=t=>void 0!==t.response,S=t=>void 0!==t.optional,C=t=>void 0!==t.tuple,E=t=>void 0!==t.list;function A(t){if(g(t)){if("uint128"===t)return{id:i.ClarityAbiTypeUInt128,type:t};if("int128"===t)return{id:i.ClarityAbiTypeInt128,type:t};if("bool"===t)return{id:i.ClarityAbiTypeBool,type:t};if("principal"===t)return{id:i.ClarityAbiTypePrincipal,type:t};else if("trait_reference"===t)return{id:i.ClarityAbiTypeTraitReference,type:t};else if("none"===t)return{id:i.ClarityAbiTypeNone,type:t};else throw Error(`Unexpected Clarity ABI type primitive: ${JSON.stringify(t)}`)}if(b(t))return{id:i.ClarityAbiTypeBuffer,type:t};if(v(t))return{id:i.ClarityAbiTypeResponse,type:t};if(S(t))return{id:i.ClarityAbiTypeOptional,type:t};if(C(t))return{id:i.ClarityAbiTypeTuple,type:t};if(E(t))return{id:i.ClarityAbiTypeList,type:t};if(w(t))return{id:i.ClarityAbiTypeStringAscii,type:t};else if(m(t))return{id:i.ClarityAbiTypeStringUtf8,type:t};else throw Error(`Unexpected Clarity ABI type: ${JSON.stringify(t)}`)}function x(t,e){let n=e.id?e:A(e);switch(n.id){case i.ClarityAbiTypeUInt128:return(0,s.R)(t);case i.ClarityAbiTypeInt128:return(0,s.q)(t);case i.ClarityAbiTypeBool:if("false"===t||"0"===t)return(0,a.ef)();if("true"===t||"1"===t)return(0,a.nC)();throw Error(`Unexpected Clarity bool value: ${JSON.stringify(t)}`);case i.ClarityAbiTypePrincipal:if(!t.includes("."))return(0,u.Op)(t);{let[e,n]=t.split(".");return(0,u.tM)(e,n)}case i.ClarityAbiTypeTraitReference:let[r,h]=t.split(".");return(0,u.tM)(r,h);case i.ClarityAbiTypeNone:return(0,c.hr)();case i.ClarityAbiTypeBuffer:return(0,f.B)((0,o.nr)(t));case i.ClarityAbiTypeStringAscii:return(0,l.jx)(t);case i.ClarityAbiTypeStringUtf8:return(0,l.M0)(t);case i.ClarityAbiTypeOptional:return(0,c.PK)(x(t,n.type.optional));case i.ClarityAbiTypeResponse:case i.ClarityAbiTypeTuple:case i.ClarityAbiTypeList:throw new p.nj(`Unsupported encoding for Clarity type: ${n.id}`);default:throw Error(`Unexpected Clarity type ID: ${JSON.stringify(n)}`)}}function T(t,e){let n=t.id?t:A(t);return n.id===i.ClarityAbiTypeBuffer?(0,f.B)((0,o.iY)(e)):x(e,n)}function B(t){if(g(t))return"int128"===t?"int":"uint128"===t?"uint":t;if(b(t))return`(buff ${t.buffer.length})`;if(w(t))return`(string-ascii ${t["string-ascii"].length})`;if(m(t))return`(string-utf8 ${t["string-utf8"].length})`;if(v(t))return`(response ${B(t.response.ok)} ${B(t.response.error)})`;if(S(t))return`(optional ${B(t.optional)})`;if(C(t))return`(tuple ${t.tuple.map(t=>`(${t.name} ${B(t.type)})`).join(" ")})`;else if(E(t))return`(list ${t.list.length} ${B(t.list.type)})`;else throw Error(`Type string unsupported for Clarity type: ${JSON.stringify(t)}`)}function I(t){let e="read_only"===t.access?"read-only":t.access;return`(define-${e} (${t.name} ${t.args.map(t=>`(${t.name} ${B(t.type)})`).join(" ")}))`}function P(t,e){let n=e.functions.filter(e=>e.name===t.functionName.content);if(1===n.length){let e=n[0].args;if(t.functionArgs.length!==e.length)throw Error(`Clarity function expects ${e.length} argument(s) but received ${t.functionArgs.length}`);for(let n=0;n<t.functionArgs.length;n++){let r=t.functionArgs[n],o=e[n];if(!function t(e,n){let r=A(n);switch(e.type){case h.yp.BoolTrue:case h.yp.BoolFalse:return r.id===i.ClarityAbiTypeBool;case h.yp.Int:return r.id===i.ClarityAbiTypeInt128;case h.yp.UInt:return r.id===i.ClarityAbiTypeUInt128;case h.yp.Buffer:return r.id===i.ClarityAbiTypeBuffer&&r.type.buffer.length>=Math.ceil(e.value.length/2);case h.yp.StringASCII:return r.id===i.ClarityAbiTypeStringAscii&&r.type["string-ascii"].length>=e.value.length;case h.yp.StringUTF8:return r.id===i.ClarityAbiTypeStringUtf8&&r.type["string-utf8"].length>=e.value.length;case h.yp.OptionalNone:return r.id===i.ClarityAbiTypeNone||r.id===i.ClarityAbiTypeOptional;case h.yp.OptionalSome:return r.id===i.ClarityAbiTypeOptional&&t(e.value,r.type.optional);case h.yp.ResponseErr:return r.id===i.ClarityAbiTypeResponse&&t(e.value,r.type.response.error);case h.yp.ResponseOk:return r.id===i.ClarityAbiTypeResponse&&t(e.value,r.type.response.ok);case h.yp.PrincipalContract:return r.id===i.ClarityAbiTypePrincipal||r.id===i.ClarityAbiTypeTraitReference;case h.yp.PrincipalStandard:return r.id===i.ClarityAbiTypePrincipal;case h.yp.List:return r.id==i.ClarityAbiTypeList&&r.type.list.length>=e.value.length&&e.value.every(e=>t(e,r.type.list.type));case h.yp.Tuple:if(r.id!=i.ClarityAbiTypeTuple)return!1;{let n=(0,y.Xh)(e.value);for(let e=0;e<r.type.tuple.length;e++){let i=r.type.tuple[e],o=i.name,s=n[o];if(!s||!t(s,i.type))return!1;delete n[o]}return!0}default:return!1}}(r,o.type)){let e=n+1;throw Error(`Clarity function \`${t.functionName.content}\` expects argument ${e} to be of type ${B(o.type)}, not ${(0,d.eH)(r)}`)}}return!0}if(0===n.length)throw Error(`ABI doesn't contain a function with the name ${t.functionName.content}`);throw Error(`Malformed ABI. Contains multiple functions with the name ${t.functionName.content}`)}function $(t,e){let n=B(e);if(g(e)){if("uint128"===e)return(0,s.R)(t);if("int128"===e)return(0,s.q)(t);if("bool"===e){if("true"===t.toLowerCase())return(0,a.nC)();if("false"===t.toLowerCase())return(0,a.ef)();throw Error(`Invalid bool value: ${t}`)}if("principal"===e){if(!t.includes("."))return(0,u.Op)(t);{let[e,n]=t.split(".");return(0,u.tM)(e,n)}}else throw Error(`Contract function contains unsupported Clarity ABI type: ${n}`)}if(b(e)){if((0,o.iY)(t).byteLength>e.buffer.length)throw Error(`Input exceeds specified buffer length limit of ${e.buffer.length}`);return(0,f.f)(t)}if(v(e)||S(e))throw Error(`Contract function contains unsupported Clarity ABI type: ${n}`);if(C(e))throw Error(`Contract function contains unsupported Clarity ABI type: ${n}`);if(E(e));throw Error(`Contract function contains unsupported Clarity ABI type: ${n}`)}},30365:function(t,e,n){"use strict";n.d(e,{S6:function(){return c},TH:function(){return i},g9:function(){return u},kr:function(){return s},nj:function(){return a},xv:function(){return o}});class r extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class i extends r{constructor(t){super(t)}}class o extends r{constructor(t){super(t)}}class s extends r{constructor(t){super(t)}}class a extends r{constructor(t){super(t)}}class u extends r{constructor(t){super(t)}}class c extends r{constructor(t){super(t)}}},38395:function(t,e,n){"use strict";n.d(e,{GY:function(){return A},Nd:function(){return S},QD:function(){return x},T9:function(){return y},Ti:function(){return g},VB:function(){return h},Yu:function(){return E},bl:function(){return w},cW:function(){return b},fv:function(){return d},ky:function(){return v},mQ:function(){return p},oZ:function(){return l},tq:function(){return C},wc:function(){return T}});var r=n(82398),i=n(29096),o=n(95298),s=n(63989),a=n(30365),u=n(90921),c=n(12206),f=n(4865);let l="/v2/transactions",h="/v2/fees/transfer",d="/v2/fees/transaction",p="/v2/accounts",y="/v2/contracts/interface",g="/v2/contracts/call-read",b="/v2/map_entry";async function w({transaction:t,attachment:e,network:n,client:o}){let s=t.serialize(),a=e?"string"==typeof e?e:(0,r.ci)(e):void 0,c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e?{tx:s,attachment:a}:{tx:s})},f=n??(0,u.Ne)(t),h=Object.assign({},(0,i.zD)((0,i.tn)(f)),o),d=`${h.baseUrl}${l}`,p=await h.fetch(d,c);if(!p.ok)try{return await p.json()}catch(t){throw Error("Failed to broadcast transaction (unable to parse node response).",{cause:t})}let y=await p.text(),g=y.replace(/["]+/g,"");if(!(0,r.T7)(g))throw Error(y);return{txid:g}}async function m({address:t,network:e="mainnet",client:n}){let r=Object.assign({},(0,i.zD)((0,i.tn)(e)),n),o=`${r.baseUrl}/extended/v1/address/${t}/nonces`,s=await r.fetch(o);return BigInt((await s.json()).possible_next_nonce)}async function v(t){try{return await m(t)}catch(t){}let e=(0,i.tn)(t.network??"mainnet"),n=Object.assign({},(0,i.zD)(e),t.client),r=`${n.baseUrl}${p}/${t.address}?proof=0`,o=await n.fetch(r);if(!o.ok){let t=await o.text().catch(()=>"");throw Error(`Error fetching nonce. Response ${o.status}: ${o.statusText}. Attempted to fetch ${r} and failed with the message: "${t}"`)}return BigInt((await o.json()).nonce)}async function S({transaction:t,network:e,client:n}){let r="number"==typeof t?"mainnet":e??(0,u.Ne)(t),o=Object.assign({},(0,i.zD)((0,i.tn)(r)),n),s=`${o.baseUrl}${h}`,a=await o.fetch(s,{headers:{Accept:"application/text"}});if(!a.ok){let t=await a.text().catch(()=>"");throw Error(`Error estimating transfer fee. Response ${a.status}: ${a.statusText}. Attempted to fetch ${s} and failed with the message: "${t}"`)}let c=await a.text(),f="number"==typeof t?BigInt(t):BigInt(Math.ceil(t.serializeBytes().byteLength));return BigInt(c)*f}async function C({payload:t,estimatedLength:e,network:n="mainnet",client:r}){let o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transaction_payload:t,estimated_len:e})},s=Object.assign({},(0,i.zD)((0,i.tn)(n)),r),u=`${s.baseUrl}${d}`,c=await s.fetch(u,o);if(!c.ok){let t=await c.text().catch(()=>"");if(t.includes("NoEstimateAvailable")){let e={};try{e=JSON.parse(t)}catch(t){}throw new a.kr(e?.reason_data?.message??"")}throw Error(`Error estimating transaction fee. Response ${c.status}: ${c.statusText}. Attempted to fetch ${u} and failed with the message: "${t}"`)}return(await c.json()).estimations}async function E({transaction:t,network:e,client:n}){let o=e??(0,u.Ne)(t),s=Object.assign({},(0,i.zD)((0,i.tn)(o)),n);try{let e=(0,u.Io)(t);return(await C({payload:(0,r.ci)((0,f.ZU)(t.payload)),estimatedLength:e,network:o,client:s}))[1].fee}catch(e){if(!(e instanceof a.kr))throw e;return await S({transaction:t,network:o})}}async function A({contractAddress:t,contractName:e,network:n="mainnet",client:r}){let o=Object.assign({},(0,i.zD)((0,i.tn)(n)),r),s=`${o.baseUrl}${y}/${t}/${e}`,a=await o.fetch(s);if(!a.ok){let n=await a.text().catch(()=>"");throw Error(`Error fetching contract ABI for contract "${e}" at address ${t}. Response ${a.status}: ${a.statusText}. Attempted to fetch ${s} and failed with the message: "${n}"`)}return JSON.parse(await a.text())}async function x({contractName:t,contractAddress:e,functionName:n,functionArgs:r,senderAddress:o,network:s="mainnet",client:a}){let u={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:o,arguments:r.map(t=>(0,c.rD)(t))})},f=encodeURIComponent(n),l=Object.assign({},(0,i.zD)((0,i.tn)(s)),a),h=`${l.baseUrl}${g}/${e}/${t}/${f}`,d=await l.fetch(h,u);if(!d.ok){let t=await d.text().catch(()=>"");throw Error(`Error calling read-only function. Response ${d.status}: ${d.statusText}. Attempted to fetch ${h} and failed with the message: "${t}"`)}return await d.json().then(c.dk)}async function T({contractAddress:t,contractName:e,mapName:n,mapKey:a,network:u="mainnet",client:c}){let f=(0,r.$g)((0,o.a)(a)),l={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(f)},h=Object.assign({},(0,i.zD)((0,i.tn)(u)),c),d=`${h.baseUrl}${b}/${t}/${e}/${n}?proof=0`,p=await h.fetch(d,l);if(!p.ok){let r=await p.text().catch(()=>"");throw Error(`Error fetching map entry for map "${n}" in contract "${e}" at address ${t}, using map key "${f}". Response ${p.status}: ${p.statusText}. Attempted to fetch ${d} and failed with the message: "${r}"`)}let y=await p.json();if(!y.data)throw Error(`Error fetching map entry for map "${n}" in contract "${e}" at address ${t}, using map key "${f}". Response ${p.status}: ${p.statusText}. Attempted to fetch ${h.baseUrl} and failed with the response: "${JSON.stringify(y)}"`);try{return(0,s.i)(y.data)}catch(t){throw Error(`Error deserializing Clarity value "${y.data}": ${t}`)}}},27406:function(t,e,n){"use strict";n.d(e,{_e:function(){return M},Lg:function(){return $},NG:function(){return v},cw:function(){return w},EJ:function(){return m},vT:function(){return x},j1:function(){return B},lw:function(){return U},m2:function(){return T},_5:function(){return _},tN:function(){return E},li:function(){return P},Kc:function(){return C},D5:function(){return S},EG:function(){return I},y7:function(){return W},VD:function(){return K},TO:function(){return A},UB:function(){return k},Ud:function(){return N},fJ:function(){return H},nq:function(){return O}});var r=n(12936),i=n(43105);class o extends i.kb{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,r.ZP.hash(t);let n=(0,i.O0)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?t.create().update(n).digest():n);for(let t=0;t<s.length;t++)s[t]^=54;this.iHash.update(s),this.oHash=t.create();for(let t=0;t<s.length;t++)s[t]^=106;this.oHash.update(s),s.fill(0)}update(t){return r.ZP.exists(this),this.iHash.update(t),this}digestInto(t){r.ZP.exists(this),r.ZP.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return t.finished=r,t.destroyed=i,t.blockLen=o,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let s=(t,e,n)=>new o(t,e).update(n).digest();s.create=(t,e)=>new o(t,e);var a=n(57170),u=n(27760),c=n(82398);function f(t){let e="string"==typeof t?(0,c.nr)(t):t;if(32!=e.length&&33!=e.length)throw Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${e.length}`);if(33==e.length&&1!==e[32])throw Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return e}var l=n(29096),h=n(27701),d=n(46551),p=n(96533),y=n(12206),g=n(32151),b=n(47238);function w(t,e="mainnet"){return e=(0,l.tn)(e),m(P(t),e)}function m(t,e="mainnet"){e=(0,l.tn)(e),t="string"==typeof t?(0,c.nr)(t):t;let n=(0,d.c)(p.dO.P2PKH,e),r=(0,g.fi)(n,(0,y.D2)(t));return(0,g.VM)(r)}function v(t){return t="string"==typeof t?(0,c.nr)(t):t,{type:b.l.PublicKey,data:t}}function S(t,e,n=p.gW.Compressed){let r=function(t){if(t.length<129)throw Error("Invalid signature");let e=t.slice(0,2),n=t.slice(2,66),r=t.slice(66);return{recoveryId:(0,c.WR)(e),r:n,s:r}}(e),i=new u.Pc((0,c.y_)(r.r),(0,c.y_)(r.s)),o=u.E9.fromSignature(t,i,r.recoveryId),s=n===p.gW.Compressed;return o.toHex(s)}function C(t,e,n=p.gW.Compressed){return S(t,e.slice(-2)+e.slice(0,-2),n)}function E(t){return"string"==typeof t?t:(0,c.ci)(t)}u.P6.hmacSha256Sync=(t,...e)=>{let n=s.create(a.J,t);return e.forEach(t=>n.update(t)),n.digest()};let A=E,x=T;function T(t){return("string"==typeof t?t.length/2:t.byteLength)===33}let B=I;function I(t){return!A(t).startsWith("04")}function P(t){let e=T(t=f(t));return(0,c.ci)((0,u.$3)(t.slice(0,32),e))}function $(t){return u.E9.fromHex(A(t)).toHex(!0)}function O(t){return u.E9.fromHex(A(t)).toHex(!1)}let U=k;function k(){return M(u.P6.randomPrivateKey())}function H(t,e){t=f(t);let[n,r]=(0,u.kS)(e,t.slice(0,32),{canonical:!0,recovered:!0});if(null==r)throw Error("No signature recoveryId received");return(0,c.I4)(r,1)+u.Pc.fromHex(n).toCompactHex()}function N({messageHash:t,privateKey:e}){var n;return(n=H(e,t)).slice(2)+n.slice(0,2)}function M(t){return 66==(t=E(t)).length?t:`${t}01`}function _(t,e){return K(P(t),e)}function W(...t){return"number"==typeof t[0]?function(t,e){return e="string"==typeof e?(0,c.nr)(e):e,(0,h.H4)(t,(0,c.ci)((0,y.M9)(e)))}(...t):K(...t)}function K(t,e){return e=e?(0,l.tn)(e):l.eN,t="string"==typeof t?(0,c.nr)(t):t,(0,h.H4)(e.addressVersion.singleSig,(0,c.ci)((0,y.M9)(t)))}},37903:function(t,e,n){"use strict";n.d(e,{KV:function(){return l},Mf:function(){return p},aA:function(){return c},dC:function(){return h},lE:function(){return d},wI:function(){return f}});var r,i,o=n(96533),s=n(47238),a=n(32151),u=n(4865);function c(t){switch(t.type){case"stx-postcondition":return{type:s.l.PostCondition,conditionType:o.sX.STX,principal:"origin"===t.address?{type:s.l.Principal,prefix:o.m4.Origin}:(0,a.B$)(t.address),conditionCode:i[t.condition],amount:BigInt(t.amount)};case"ft-postcondition":return{type:s.l.PostCondition,conditionType:o.sX.Fungible,principal:"origin"===t.address?{type:s.l.Principal,prefix:o.m4.Origin}:(0,a.B$)(t.address),conditionCode:i[t.condition],amount:BigInt(t.amount),asset:(0,a.GY)(t.asset)};case"nft-postcondition":return{type:s.l.PostCondition,conditionType:o.sX.NonFungible,principal:"origin"===t.address?{type:s.l.Principal,prefix:o.m4.Origin}:(0,a.B$)(t.address),conditionCode:i[t.condition],asset:(0,a.GY)(t.asset),assetName:t.assetId};default:throw Error("Invalid post condition type")}}function f(t){switch(t.conditionType){case o.sX.STX:return{type:"stx-postcondition",address:g(t.principal),condition:i[t.conditionCode],amount:t.amount.toString()};case o.sX.Fungible:return{type:"ft-postcondition",address:g(t.principal),condition:i[t.conditionCode],amount:t.amount.toString(),asset:y(t.asset)};case o.sX.NonFungible:return{type:"nft-postcondition",address:g(t.principal),condition:i[t.conditionCode],asset:y(t.asset),assetId:t.assetName};default:throw Error(`Invalid post condition type: ${t}`)}}function l(t){return i[t]}function h(t){return i[t]}function d(t){let e=c(t);return(0,u.YM)(e)}function p(t){if("number"==typeof t)return t;if("allow"===t)return o.hW.Allow;if("deny"===t)return o.hW.Deny;throw Error(`Invalid post condition mode: ${t}`)}function y(t){let e=(0,a.VM)(t.address),n=`${e}.${t.contractName.content}`;return`${n}::${t.assetName.content}`}function g(t){switch(t.prefix){case o.m4.Origin:return"origin";case o.m4.Standard:return(0,a.VM)(t.address);case o.m4.Contract:let e=(0,a.VM)(t.address);return`${e}.${t.contractName.content}`;default:throw Error(`Invalid principal type: ${t}`)}}(r=i||(i={}))[r.eq=1]="eq",r[r.gt=2]="gt",r[r.lt=4]="lt",r[r.gte=3]="gte",r[r.lte=5]="lte",r[r.sent=16]="sent",r[r["not-sent"]=17]="not-sent"},44303:function(t,e,n){"use strict";n.d(e,{p:function(){return c}});var r=n(31357),i=n(96533),o=n(30365),s=n(12206),a=n(47238),u=n(27406);class c{constructor(t){this.transaction=t,this.sigHash=t.signBegin(),this.originDone=!1,this.checkOversign=!0,this.checkOverlap=!0;let e=t.auth.spendingCondition;if(e&&!(0,r.GP)(e)){if(e.fields.filter(t=>t.contents.type===a.l.MessageSignature).length>=e.signaturesRequired)throw Error("SpendingCondition has more signatures than are expected");e.fields.forEach(n=>{if(n.contents.type!==a.l.MessageSignature)return;let o=n.contents,s=(0,r.Fd)(this.sigHash,t.auth.authType,e.fee,e.nonce,i.gW.Compressed,o.data);(0,r.vY)(e.hashMode)||(this.sigHash=s.nextSigHash)})}}static createSponsorSigner(t,e){if(t.auth.authType!=i.Gr.Sponsored)throw new o.g9("Cannot add sponsor to non-sponsored transaction");let n=(0,s.Xh)(t);n.setSponsor(e);let r=n.verifyOrigin(),a=new this(n);return a.originDone=!0,a.sigHash=r,a.checkOversign=!0,a.checkOverlap=!0,a}signOrigin(t){if(this.checkOverlap&&this.originDone)throw new o.g9("Cannot sign origin after sponsor key");if(void 0===this.transaction.auth)throw new o.g9('"transaction.auth" is undefined');if(void 0===this.transaction.auth.spendingCondition)throw new o.g9('"transaction.auth.spendingCondition" is undefined');let e=this.transaction.auth.spendingCondition;if((e.hashMode===i.dO.P2SH||e.hashMode===i.dO.P2WSH)&&this.checkOversign&&e.fields.filter(t=>t.contents.type===a.l.MessageSignature).length>=e.signaturesRequired)throw Error("Origin would have too many signatures");let n=this.transaction.signNextOrigin(this.sigHash,t);((0,r.GP)(this.transaction.auth.spendingCondition)||(0,r.Cn)(this.transaction.auth.spendingCondition.hashMode))&&(this.sigHash=n)}appendOrigin(t){let e="object"==typeof t&&"type"in t?t:(0,u.NG)(t);if(this.checkOverlap&&this.originDone)throw Error("Cannot append public key to origin after sponsor key");if(void 0===this.transaction.auth)throw Error('"transaction.auth" is undefined');if(void 0===this.transaction.auth.spendingCondition)throw Error('"transaction.auth.spendingCondition" is undefined');this.transaction.appendPubkey(e)}signSponsor(t){if(void 0===this.transaction.auth)throw new o.g9('"transaction.auth" is undefined');if(this.transaction.auth.authType!==i.Gr.Sponsored)throw new o.g9('"transaction.auth.authType" is not AuthType.Sponsored');let e=this.transaction.signNextSponsor(this.sigHash,t);this.sigHash=e,this.originDone=!0}getTxInComplete(){return(0,s.Xh)(this.transaction)}resume(t){this.transaction=(0,s.Xh)(t),this.sigHash=t.signBegin()}}},90921:function(t,e,n){"use strict";n.d(e,{Ak:function(){return g},DO:function(){return v},Io:function(){return m},KZ:function(){return C},Ne:function(){return w},pp:function(){return S},y:function(){return b}});var r=n(82398),i=n(41998),o=n(29096),s=n(88648),a=n(4865),u=n(67522),c=n(31357),f=n(96533),l=n(30365),h=n(27406),d=n(12206),p=n(7076),y=n(47238);class g{constructor({auth:t,payload:e,postConditions:n=(0,p.lZ)([]),postConditionMode:i=f.hW.Deny,transactionVersion:s,chainId:a,network:u="mainnet"}){u=(0,o.tn)(u),this.transactionVersion=s??u.transactionVersion,this.chainId=a??u.chainId,this.auth=t,"amount"in e?this.payload={...e,amount:(0,r.HN)(e.amount)}:this.payload=e,this.postConditionMode=i,this.postConditions=n,this.anchorMode=f.u0.Any}signBegin(){let t=(0,d.Xh)(this);return t.auth=(0,c.m5)(t.auth),t.txid()}verifyBegin(){let t=(0,d.Xh)(this);return t.auth=(0,c.m5)(t.auth),t.txid()}verifyOrigin(){return(0,c.dd)(this.auth,this.verifyBegin())}signNextOrigin(t,e){if(void 0===this.auth.spendingCondition)throw Error('"auth.spendingCondition" is undefined');if(void 0===this.auth.authType)throw Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,t,f.Gr.Standard,e)}signNextSponsor(t,e){if(this.auth.authType===f.Gr.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,t,f.Gr.Sponsored,e);throw Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(t){let e="object"==typeof t&&"type"in t?t:(0,h.NG)(t),n=this.auth.spendingCondition;if(n&&!(0,c.GP)(n)){let t=(0,h.EG)(e.data);n.fields.push((0,p.JT)(t?f.gW.Compressed:f.gW.Uncompressed,e))}else throw Error("Can't append public key to a singlesig condition")}signAndAppend(t,e,n,r){let{nextSig:i,nextSigHash:o}=(0,c.a6)(e,n,t.fee,t.nonce,r);if((0,c.GP)(t))t.signature=(0,p.V1)(i);else{let e=(0,h.m2)(r);t.fields.push((0,p.JT)(e?f.gW.Compressed:f.gW.Uncompressed,(0,p.V1)(i)))}return o}txid(){let t=this.serializeBytes();return(0,d.G8)(t)}setSponsor(t){if(this.auth.authType!=f.Gr.Sponsored)throw new l.g9("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,c.fc)(this.auth,t)}setFee(t){this.auth=(0,c.P_)(this.auth,t)}setNonce(t){this.auth=(0,c.nT)(this.auth,t)}setSponsorNonce(t){if(this.auth.authType!=f.Gr.Sponsored)throw new l.g9("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,c.K2)(this.auth,t)}serialize(){return(0,r.ci)(this.serializeBytes())}serializeBytes(){if(void 0===this.transactionVersion)throw new l.TH('"transactionVersion" is undefined');if(void 0===this.chainId)throw new l.TH('"chainId" is undefined');if(void 0===this.auth)throw new l.TH('"auth" is undefined');if(void 0===this.payload)throw new l.TH('"payload" is undefined');let t=[];t.push(this.transactionVersion);let e=new Uint8Array(4);return(0,i.T4)(e,this.chainId,0),t.push(e),t.push((0,c.D9)(this.auth)),t.push(this.anchorMode),t.push(this.postConditionMode),t.push((0,a.d6)(this.postConditions)),t.push((0,a.ZU)(this.payload)),(0,r.WW)(t)}}function b(t){let e=(0,r.$O)(t,u.n)?t:new u.n(t),n=e.readUInt8Enum(s.Kn,t=>{throw Error(`Could not parse ${t} as TransactionVersion`)}),i=e.readUInt32BE(),o=(0,c.XH)(e),l=e.readUInt8Enum(f.u0,t=>{throw Error(`Could not parse ${t} as AnchorMode`)}),h=e.readUInt8Enum(f.hW,t=>{throw Error(`Could not parse ${t} as PostConditionMode`)}),d=(0,a.nt)(e,y.l.PostCondition),p=new g({transactionVersion:n,chainId:i,auth:o,payload:(0,a.LV)(e),postConditions:d,postConditionMode:h});return p.anchorMode=l,p}function w(t){return(0,s.mQ)(t.transactionVersion)({[s.Kn.Mainnet]:o.eN,[s.Kn.Testnet]:o.vt})}function m(t){let e=t.auth.spendingCondition.hashMode;if(![f.dO.P2SH,f.dO.P2WSH].includes(e))return t.serializeBytes().byteLength;{let e=t.auth.spendingCondition,n=e.fields.filter(t=>t.contents.type===y.l.MessageSignature).length,r=(e.signaturesRequired-n)*(f.UE+1);return t.serializeBytes().byteLength+r}}function v(t){return t.serialize()}function S(t){return t.serializeBytes()}function C(t){return t.serialize()}},12206:function(t,e,n){"use strict";n.d(e,{Xh:function(){return G},rD:function(){return te},pw:function(){return V},M9:function(){return X},D2:function(){return Y},UI:function(){return Q},rv:function(){return Z},tM:function(){return J},EE:function(){return tn},YI:function(){return tt},c1:function(){return j},QG:function(){return R},CE:function(){return D},ZC:function(){return to},dk:function(){return tr},O6:function(){return L},Sq:function(){return F},yk:function(){return q},G8:function(){return z},RA:function(){return ti},uM:function(){return k.T}});var r=n(58189),i=n(43105);let o=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),s=Uint8Array.from({length:16},(t,e)=>e),a=s.map(t=>(9*t+5)%16),u=[s],c=[a];for(let t=0;t<4;t++)for(let e of[u,c])e.push(e[t].map(t=>o[t]));let f=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),l=u.map((t,e)=>t.map(t=>f[e][t])),h=c.map((t,e)=>t.map(t=>f[e][t])),d=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),p=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),y=(t,e)=>t<<e|t>>>32-e;function g(t,e,n,r){return 0===t?e^n^r:1===t?e&n|~e&r:2===t?(e|~n)^r:3===t?e&r|n&~r:e^(n|~r)}let b=new Uint32Array(16);class w extends r.N{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:t,h1:e,h2:n,h3:r,h4:i}=this;return[t,e,n,r,i]}set(t,e,n,r,i){this.h0=0|t,this.h1=0|e,this.h2=0|n,this.h3=0|r,this.h4=0|i}process(t,e){for(let n=0;n<16;n++,e+=4)b[n]=t.getUint32(e,!0);let n=0|this.h0,r=n,i=0|this.h1,o=i,s=0|this.h2,a=s,f=0|this.h3,w=f,m=0|this.h4,v=m;for(let t=0;t<5;t++){let e=4-t,S=d[t],C=p[t],E=u[t],A=c[t],x=l[t],T=h[t];for(let e=0;e<16;e++){let r=y(n+g(t,i,s,f)+b[E[e]]+S,x[e])+m|0;n=m,m=f,f=0|y(s,10),s=i,i=r}for(let t=0;t<16;t++){let n=y(r+g(e,o,a,w)+b[A[t]]+C,T[t])+v|0;r=v,v=w,w=0|y(a,10),a=o,o=n}}this.set(this.h1+s+w|0,this.h2+f+v|0,this.h3+m+r|0,this.h4+n+o|0,this.h0+i+a|0)}roundClean(){b.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}let m=(0,i.hE)(()=>new w);var v=n(57170);let S=BigInt(4294967296-1),C=BigInt(32);var E={split:function(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:o,l:s}=function(t,e=!1){return e?{h:Number(t&S),l:Number(t>>C&S)}:{h:0|Number(t>>C&S),l:0|Number(t&S)}}(t[i],e);[n[i],r[i]]=[o,s]}return[n,r]},shrSH:(t,e,n)=>t>>>n,shrSL:(t,e,n)=>t<<32-n|e>>>n,rotrSH:(t,e,n)=>t>>>n|e<<32-n,rotrSL:(t,e,n)=>t<<32-n|e>>>n,rotrBH:(t,e,n)=>t<<64-n|e>>>n-32,rotrBL:(t,e,n)=>t>>>n-32|e<<64-n,add:function(t,e,n,r){let i=(e>>>0)+(r>>>0);return{h:t+n+(i/4294967296|0)|0,l:0|i}},add3L:(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),add3H:(t,e,n,r)=>e+n+r+(t/4294967296|0)|0,add4L:(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),add4H:(t,e,n,r,i)=>e+n+r+i+(t/4294967296|0)|0,add5H:(t,e,n,r,i,o)=>e+n+r+i+o+(t/4294967296|0)|0,add5L:(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0)};let[A,x]=E.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),T=new Uint32Array(80),B=new Uint32Array(80);class I extends r.N{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:u,El:c,Fh:f,Fl:l,Gh:h,Gl:d,Hh:p,Hl:y}=this;return[t,e,n,r,i,o,s,a,u,c,f,l,h,d,p,y]}set(t,e,n,r,i,o,s,a,u,c,f,l,h,d,p,y){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|f,this.Fl=0|l,this.Gh=0|h,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(t,e){for(let n=0;n<16;n++,e+=4)T[n]=t.getUint32(e),B[n]=t.getUint32(e+=4);for(let t=16;t<80;t++){let e=0|T[t-15],n=0|B[t-15],r=E.rotrSH(e,n,1)^E.rotrSH(e,n,8)^E.shrSH(e,n,7),i=E.rotrSL(e,n,1)^E.rotrSL(e,n,8)^E.shrSL(e,n,7),o=0|T[t-2],s=0|B[t-2],a=E.rotrSH(o,s,19)^E.rotrBH(o,s,61)^E.shrSH(o,s,6),u=E.rotrSL(o,s,19)^E.rotrBL(o,s,61)^E.shrSL(o,s,6),c=E.add4L(i,u,B[t-7],B[t-16]),f=E.add4H(c,r,a,T[t-7],T[t-16]);T[t]=0|f,B[t]=0|c}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:u,Dl:c,Eh:f,El:l,Fh:h,Fl:d,Gh:p,Gl:y,Hh:g,Hl:b}=this;for(let t=0;t<80;t++){let e=E.rotrSH(f,l,14)^E.rotrSH(f,l,18)^E.rotrBH(f,l,41),w=E.rotrSL(f,l,14)^E.rotrSL(f,l,18)^E.rotrBL(f,l,41),m=f&h^~f&p,v=l&d^~l&y,S=E.add5L(b,w,v,x[t],B[t]),C=E.add5H(S,g,e,m,A[t],T[t]),I=0|S,P=E.rotrSH(n,r,28)^E.rotrBH(n,r,34)^E.rotrBH(n,r,39),$=E.rotrSL(n,r,28)^E.rotrBL(n,r,34)^E.rotrBL(n,r,39),O=n&i^n&s^i&s,U=r&o^r&a^o&a;g=0|p,b=0|y,p=0|h,y=0|d,h=0|f,d=0|l,({h:f,l:l}=E.add(0|u,0|c,0|C,0|I)),u=0|s,c=0|a,s=0|i,a=0|o,i=0|n,o=0|r;let k=E.add3L(I,$,U);n=E.add3H(k,C,P,O),r=0|k}({h:n,l:r}=E.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=E.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=E.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:u,l:c}=E.add(0|this.Dh,0|this.Dl,0|u,0|c)),({h:f,l:l}=E.add(0|this.Eh,0|this.El,0|f,0|l)),({h:h,l:d}=E.add(0|this.Fh,0|this.Fl,0|h,0|d)),({h:p,l:y}=E.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:b}=E.add(0|this.Hh,0|this.Hl,0|g,0|b)),this.set(n,r,i,o,s,a,u,c,f,l,h,d,p,y,g,b)}roundClean(){T.fill(0),B.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class P extends I{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class $ extends I{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class O extends I{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}(0,i.hE)(()=>new I),(0,i.hE)(()=>new P);let U=(0,i.hE)(()=>new $);(0,i.hE)(()=>new O);var k=n(27760),H=n(82398),N=n(27701),M=n(83465),_=n.n(M),W=n(95298),K=n(63989);let L=t=>k.P6.randomBytes(t),j=t=>t.length%2?`0${t}`:t,R=(t,e)=>t.padStart(e,"0"),F=(t,e)=>t.padEnd(e,"0"),V=(t,e)=>!!t&&(0,H.iY)(t).length>e;function G(t){return _()(t)}function D(t,e){let n=G(t);return delete n[e],n}let X=t=>m((0,v.J)(t)),z=t=>(0,H.ci)(U(t)),q=z,Y=t=>(0,H.ci)(X(t)),Z=t=>{let e=X(t),n=X((0,H.eV)(new Uint8Array([0]),new Uint8Array([e.length]),e));return(0,H.ci)(n)},Q=(t,e)=>{if(t>15||e.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");let n=[];n.push(80+t),e.forEach(t=>{n.push(t.length),n.push(t)}),n.push(80+e.length),n.push(174);let r=X((0,H.WW)(n));return(0,H.ci)(r)},J=(t,e)=>{if(t>15||e.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");let n=[];n.push(80+t),e.forEach(t=>{n.push(t.length),n.push(t)}),n.push(80+e.length),n.push(174);let r=(0,H.WW)(n),i=(0,v.J)(r),o=[];o.push(0),o.push(i.length),o.push(i);let s=X((0,H.WW)(o));return(0,H.ci)(s)};function tt(t){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(t)&&t.length<128}function te(t){let e=(0,W.a)(t);return`0x${e}`}function tn(t){return(0,K.i)(t)}let tr=t=>{if(t.okay)return tn(t.result);throw Error(t.cause)},ti=t=>{try{return(0,N.yI)(t),!0}catch(t){return!1}};function to(t){let[e,n]=t.split(".");if(!e||!n)throw Error(`Invalid contract identifier: ${t}`);return[e,n]}},7076:function(t,e,n){"use strict";n.d(e,{Ao:function(){return v},JT:function(){return I},LN:function(){return h},Qm:function(){return l},UN:function(){return w},V1:function(){return p},bZ:function(){return m},kI:function(){return A},kc:function(){return S},lZ:function(){return d},oc:function(){return C},p6:function(){return x},pr:function(){return B},ql:function(){return g},qu:function(){return y},r0:function(){return b},sO:function(){return T},v9:function(){return E}});var r=n(82398),i=n(27701),o=n(11616),s=n(18209),a=n(88648),u=n(96533),c=n(12206),f=n(47238);function l(){return{type:f.l.Address,version:a.TK.MainnetSingleSig,hash160:"0".repeat(40)}}function h(t){if(t&&(0,c.pw)(t,u.dV))throw Error(`Memo exceeds maximum length of ${u.dV} bytes`);return{type:f.l.MemoString,content:t}}function d(t,e){return{type:f.l.LengthPrefixedList,lengthPrefixBytes:e||4,values:t}}function p(t){if((0,r.nr)(t).byteLength!=u.UE)throw Error("Invalid signature");return{type:f.l.MessageSignature,data:t}}function y(t,e,n){return"string"==typeof t&&(t=(0,o.L0)(t)),"string"==typeof n&&(n=h(n)),{type:f.l.Payload,payloadType:u.MX.TokenTransfer,recipient:t,amount:(0,r.HN)(e),memo:n??h("")}}function g(t,e,n,r){return"string"==typeof e&&(e=E(e)),"string"==typeof n&&(n=E(n)),{type:f.l.Payload,payloadType:u.MX.ContractCall,contractAddress:"string"==typeof t?x(t):t,contractName:e,functionName:n,functionArgs:r}}function b(t){return E(t,4,1e5)}function w(t,e,n){return("string"==typeof t&&(t=E(t)),"string"==typeof e&&(e=b(e)),"number"==typeof n)?{type:f.l.Payload,payloadType:u.MX.VersionedSmartContract,clarityVersion:n,contractName:t,codeBody:e}:{type:f.l.Payload,payloadType:u.MX.SmartContract,contractName:t,codeBody:e}}function m(){return{type:f.l.Payload,payloadType:u.MX.PoisonMicroblock}}function v(t,e){if(t.byteLength!=u.GY)throw Error(`Coinbase buffer size must be ${u.GY} bytes`);return void 0!=e?{type:f.l.Payload,payloadType:u.MX.CoinbaseToAltRecipient,coinbaseBytes:t,recipient:e}:{type:f.l.Payload,payloadType:u.MX.Coinbase,coinbaseBytes:t}}function S(t,e,n){if(t.byteLength!=u.GY)throw Error(`Coinbase buffer size must be ${u.GY} bytes`);if(n.byteLength!=u.ZA)throw Error(`VRF proof buffer size must be ${u.ZA} bytes`);return{type:f.l.Payload,payloadType:u.MX.NakamotoCoinbase,coinbaseBytes:t,recipient:e.type===s.yp.OptionalSome?e.value:void 0,vrfProof:n}}function C(t,e,n,r,i,o,s){return{type:f.l.Payload,payloadType:u.MX.TenureChange,tenureHash:t,previousTenureHash:e,burnViewHash:n,previousTenureEnd:r,previousTenureBlocks:i,cause:o,publicKeyHash:s}}function E(t,e,n){let r=n||u.Cy;if((0,c.pw)(t,r))throw Error(`String length exceeds maximum bytes ${r}`);return{type:f.l.LengthPrefixedString,content:t,lengthPrefixBytes:e||1,maxLengthBytes:r}}function A(t,e,n){return{type:f.l.Asset,address:x(t),contractName:E(e),assetName:E(n)}}function x(t){let e=(0,i.yI)(t);return{type:f.l.Address,version:e[0],hash160:e[1]}}function T(t,e){let n=x(t),r=E(e);return{type:f.l.Principal,prefix:u.m4.Contract,address:n,contractName:r}}function B(t){let e=x(t);return{type:f.l.Principal,prefix:u.m4.Standard,address:e}}function I(t,e){return{pubKeyEncoding:t,type:f.l.TransactionAuthField,contents:e}}},32151:function(t,e,n){"use strict";n.d(e,{B$:function(){return m},GY:function(){return w},V9:function(){return b},VC:function(){return g},VM:function(){return h},_h:function(){return d},fi:function(){return l},j3:function(){return f},nj:function(){return p},ox:function(){return y}});var r=n(27701),i=n(96533),o=n(27406),s=n(12206),a=n(7076),u=n(4865),c=n(47238);function f(t,e,n,r){if(0===r.length)throw Error("Invalid number of public keys");if((e===i.dO.P2PKH||e===i.dO.P2WPKH)&&(1!==r.length||1!==n))throw Error("Invalid number of public keys or signatures");if((e===i.dO.P2WPKH||e===i.dO.P2WSH||e===i.dO.P2WSHNonSequential)&&!r.map(t=>t.data).every(o.EG))throw Error("Public keys must be compressed for segwit");switch(e){case i.dO.P2PKH:return l(t,(0,s.D2)(r[0].data));case i.dO.P2WPKH:return l(t,(0,s.rv)(r[0].data));case i.dO.P2SH:case i.dO.P2SHNonSequential:return l(t,(0,s.UI)(n,r.map(u.W3)));case i.dO.P2WSH:case i.dO.P2WSHNonSequential:return l(t,(0,s.tM)(n,r.map(u.W3)))}}function l(t,e){return{type:c.l.Address,version:t,hash160:e}}function h(t){return(0,r.H4)(t.version,t.hash160)}function d(t){return t.payloadType===i.MX.TokenTransfer}function p(t){return t.payloadType===i.MX.ContractCall}function y(t){return t.payloadType===i.MX.SmartContract}function g(t){return t.payloadType===i.MX.PoisonMicroblock}function b(t){return t.payloadType===i.MX.Coinbase}function w(t){let[e,n,r]=t.split(/\.|::/);return(0,a.kI)(e,n,r)}function m(t){if(!t.includes("."))return(0,a.pr)(t);{let[e,n]=t.split(".");return(0,a.sO)(e,n)}}},4865:function(t,e,n){"use strict";n.d(e,{BR:function(){return v},Dc:function(){return F},ET:function(){return T},FH:function(){return w},FM:function(){return R},Fz:function(){return D},G0:function(){return $},LT:function(){return A},LV:function(){return j},OC:function(){return B},QM:function(){return C},W3:function(){return q},Wx:function(){return S},YM:function(){return M},Ys:function(){return _},ZU:function(){return L},_I:function(){return W},aQ:function(){return Y},al:function(){return K},d6:function(){return H},dK:function(){return z},gd:function(){return g},jL:function(){return G},jh:function(){return y},kV:function(){return E},lU:function(){return m},nl:function(){return O},nt:function(){return N},oG:function(){return b},ot:function(){return x},qd:function(){return I},r3:function(){return k},v1:function(){return U},vF:function(){return P},vq:function(){return X},yw:function(){return V}});var r=n(82398),i=n(41998),o=n(67522),s=n(95298),a=n(63989),u=n(5469),c=n(96533),f=n(30365),l=n(27406),h=n(12206),d=n(7076),p=n(47238);function y(t){return(0,r.ci)(g(t))}function g(t){switch(t.type){case p.l.Address:return m(t);case p.l.Principal:return C(t);case p.l.LengthPrefixedString:return x(t);case p.l.MemoString:return I(t);case p.l.Asset:return O(t);case p.l.PostCondition:return _(t);case p.l.PublicKey:return q(t);case p.l.LengthPrefixedList:return H(t);case p.l.Payload:return L(t);case p.l.TransactionAuthField:return X(t);case p.l.MessageSignature:return G(t)}}function b(t,e,n){switch(e){case p.l.Address:return v(t);case p.l.Principal:return E(t);case p.l.LengthPrefixedString:return T(t);case p.l.MemoString:return P(t);case p.l.Asset:return U(t);case p.l.PostCondition:return W(t);case p.l.PublicKey:return Y(t);case p.l.Payload:return j(t);case p.l.LengthPrefixedList:if(!n)throw new f.xv("No list type specified");return N(t,n);case p.l.MessageSignature:return R(t);default:throw Error("Could not recognize StacksWireType")}}function w(t){return(0,r.ci)(m(t))}function m(t){let e=[];return e.push((0,r.nr)((0,r.I4)(t.version,1))),e.push((0,r.nr)(t.hash160)),(0,r.WW)(e)}function v(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t),n=(0,r.WR)((0,r.ci)(e.readBytes(1))),i=(0,r.ci)(e.readBytes(20));return{type:p.l.Address,version:n,hash160:i}}function S(t){return(0,r.ci)(C(t))}function C(t){let e=[];return e.push(t.prefix),(t.prefix===c.m4.Standard||t.prefix===c.m4.Contract)&&e.push(m(t.address)),t.prefix===c.m4.Contract&&e.push(x(t.contractName)),(0,r.WW)(e)}function E(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t),n=e.readUInt8Enum(c.m4,t=>{throw new f.xv(`Unexpected Principal payload type: ${t}`)});if(n===c.m4.Origin)return{type:p.l.Principal,prefix:n};let i=v(e);if(n===c.m4.Standard)return{type:p.l.Principal,prefix:n,address:i};let s=T(e);return{type:p.l.Principal,prefix:n,address:i,contractName:s}}function A(t){return(0,r.ci)(x(t))}function x(t){let e=[],n=(0,r.iY)(t.content),i=n.byteLength;return e.push((0,r.nr)((0,r.I4)(i,t.lengthPrefixBytes))),e.push(n),(0,r.WW)(e)}function T(t,e,n){e=e||1;let i=(0,r.$O)(t,o.n)?t:new o.n(t),s=(0,r.WR)((0,r.ci)(i.readBytes(e))),a=(0,r.Md)(i.readBytes(s));return(0,d.v9)(a,e,n??128)}function B(t){return(0,r.ci)(I(t))}function I(t){let e=[],n=(0,r.iY)(t.content),i=(0,h.Sq)((0,r.ci)(n),2*c.dV);return e.push((0,r.nr)(i)),(0,r.WW)(e)}function P(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t),n=(0,r.Md)(e.readBytes(c.dV));return n=n.replace(/\u0000*$/,""),{type:p.l.MemoString,content:n}}function $(t){return(0,r.ci)(O(t))}function O(t){let e=[];return e.push(m(t.address)),e.push(x(t.contractName)),e.push(x(t.assetName)),(0,r.WW)(e)}function U(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t);return{type:p.l.Asset,address:v(e),contractName:T(e),assetName:T(e)}}function k(t){return(0,r.ci)(H(t))}function H(t){let e=t.values,n=[];for(let i of(n.push((0,r.nr)((0,r.I4)(e.length,t.lengthPrefixBytes))),e))n.push(g(i));return(0,r.WW)(n)}function N(t,e,n){let i=(0,r.$O)(t,o.n)?t:new o.n(t),s=(0,r.WR)((0,r.ci)(i.readBytes(n||4))),a=[];for(let t=0;t<s;t++)switch(e){case p.l.Address:a.push(v(i));break;case p.l.LengthPrefixedString:a.push(T(i));break;case p.l.MemoString:a.push(P(i));break;case p.l.Asset:a.push(U(i));break;case p.l.PostCondition:a.push(W(i));break;case p.l.PublicKey:a.push(Y(i));break;case p.l.TransactionAuthField:a.push(F(i))}return(0,d.lZ)(a,n)}function M(t){return(0,r.ci)(_(t))}function _(t){let e=[];if(e.push(t.conditionType),e.push(C(t.principal)),(t.conditionType===c.sX.Fungible||t.conditionType===c.sX.NonFungible)&&e.push(O(t.asset)),t.conditionType===c.sX.NonFungible&&e.push((0,s.E)(t.assetName)),e.push(t.conditionCode),t.conditionType===c.sX.STX||t.conditionType===c.sX.Fungible){if(t.amount>BigInt("0xffffffffffffffff"))throw new f.TH("The post-condition amount may not be larger than 8 bytes");e.push((0,r.sO)(t.amount,8))}return(0,r.WW)(e)}function W(t){let e,n,i;let s=(0,r.$O)(t,o.n)?t:new o.n(t),u=s.readUInt8Enum(c.sX,t=>{throw new f.xv(`Could not read ${t} as PostConditionType`)}),l=E(s);switch(u){case c.sX.STX:return e=s.readUInt8Enum(c.DY,t=>{throw new f.xv(`Could not read ${t} as FungibleConditionCode`)}),i=BigInt(`0x${(0,r.ci)(s.readBytes(8))}`),{type:p.l.PostCondition,conditionType:c.sX.STX,principal:l,conditionCode:e,amount:i};case c.sX.Fungible:return n=U(s),e=s.readUInt8Enum(c.DY,t=>{throw new f.xv(`Could not read ${t} as FungibleConditionCode`)}),i=BigInt(`0x${(0,r.ci)(s.readBytes(8))}`),{type:p.l.PostCondition,conditionType:c.sX.Fungible,principal:l,conditionCode:e,amount:i,asset:n};case c.sX.NonFungible:n=U(s);let h=(0,a.i)(s);return e=s.readUInt8Enum(c.Am,t=>{throw new f.xv(`Could not read ${t} as FungibleConditionCode`)}),{type:p.l.PostCondition,conditionType:c.sX.NonFungible,principal:l,conditionCode:e,asset:n,assetName:h}}}function K(t){return(0,r.ci)(L(t))}function L(t){let e=[];switch(e.push(t.payloadType),t.payloadType){case c.MX.TokenTransfer:e.push((0,s.E)(t.recipient)),e.push((0,r.sO)(t.amount,8)),e.push(g(t.memo));break;case c.MX.ContractCall:e.push(g(t.contractAddress)),e.push(g(t.contractName)),e.push(g(t.functionName));let n=new Uint8Array(4);(0,i.T4)(n,t.functionArgs.length,0),e.push(n),t.functionArgs.forEach(t=>{e.push((0,s.E)(t))});break;case c.MX.SmartContract:e.push(g(t.contractName)),e.push(g(t.codeBody));break;case c.MX.VersionedSmartContract:e.push(t.clarityVersion),e.push(g(t.contractName)),e.push(g(t.codeBody));break;case c.MX.PoisonMicroblock:break;case c.MX.Coinbase:e.push(t.coinbaseBytes);break;case c.MX.CoinbaseToAltRecipient:e.push(t.coinbaseBytes),e.push((0,s.E)(t.recipient));break;case c.MX.NakamotoCoinbase:e.push(t.coinbaseBytes),e.push((0,s.E)(t.recipient?(0,u.PK)(t.recipient):(0,u.hr)())),e.push(t.vrfProof);break;case c.MX.TenureChange:e.push((0,r.nr)(t.tenureHash)),e.push((0,r.nr)(t.previousTenureHash)),e.push((0,r.nr)(t.burnViewHash)),e.push((0,r.nr)(t.previousTenureEnd)),e.push((0,i.T4)(new Uint8Array(4),t.previousTenureBlocks)),e.push((0,i.Cg)(new Uint8Array(1),t.cause)),e.push((0,r.nr)(t.publicKeyHash))}return(0,r.WW)(e)}function j(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t);switch(e.readUInt8Enum(c.MX,t=>{throw Error(`Cannot recognize PayloadType: ${t}`)})){case c.MX.TokenTransfer:let n=(0,a.i)(e),i=(0,r.HN)(e.readBytes(8)),s=P(e);return(0,d.qu)(n,i,s);case c.MX.ContractCall:let u=v(e),f=T(e),l=T(e),h=[],p=e.readUInt32BE();for(let t=0;t<p;t++){let t=(0,a.i)(e);h.push(t)}return(0,d.ql)(u,f,l,h);case c.MX.SmartContract:let y=T(e),g=T(e,4,1e5);return(0,d.UN)(y,g);case c.MX.VersionedSmartContract:{let t=e.readUInt8Enum(c.y,t=>{throw Error(`Cannot recognize ClarityVersion: ${t}`)}),n=T(e),r=T(e,4,c.nz);return(0,d.UN)(n,r,t)}case c.MX.PoisonMicroblock:return(0,d.bZ)();case c.MX.Coinbase:{let t=e.readBytes(c.GY);return(0,d.Ao)(t)}case c.MX.CoinbaseToAltRecipient:{let t=e.readBytes(c.GY),n=(0,a.i)(e);return(0,d.Ao)(t,n)}case c.MX.NakamotoCoinbase:{let t=e.readBytes(c.GY),n=(0,a.i)(e),r=e.readBytes(c.ZA);return(0,d.kc)(t,n,r)}case c.MX.TenureChange:let b=(0,r.ci)(e.readBytes(20)),w=(0,r.ci)(e.readBytes(20)),m=(0,r.ci)(e.readBytes(20)),S=(0,r.ci)(e.readBytes(32)),C=e.readUInt32BE(),E=e.readUInt8Enum(c._d,t=>{throw Error(`Cannot recognize TenureChangeCause: ${t}`)}),A=(0,r.ci)(e.readBytes(20));return(0,d.oc)(b,w,m,S,C,E,A)}}function R(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t);return(0,d.V1)((0,r.ci)(e.readBytes(c.UE)))}function F(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t),n=e.readUInt8Enum(c.V3,t=>{throw new f.xv(`Could not read ${t} as AuthFieldType`)});switch(n){case c.V3.PublicKeyCompressed:return(0,d.JT)(c.gW.Compressed,Y(e));case c.V3.PublicKeyUncompressed:return(0,d.JT)(c.gW.Uncompressed,(0,l.NG)((0,l.nq)(Y(e).data)));case c.V3.SignatureCompressed:return(0,d.JT)(c.gW.Compressed,R(e));case c.V3.SignatureUncompressed:return(0,d.JT)(c.gW.Uncompressed,R(e));default:throw Error(`Unknown auth field type: ${JSON.stringify(n)}`)}}function V(t){return(0,r.ci)(G(t))}function G(t){return(0,r.nr)(t.data)}function D(t){return(0,r.ci)(X(t))}function X(t){let e=[];switch(t.contents.type){case p.l.PublicKey:e.push(t.pubKeyEncoding===c.gW.Compressed?c.V3.PublicKeyCompressed:c.V3.PublicKeyUncompressed),e.push((0,r.nr)((0,l.Lg)(t.contents.data)));break;case p.l.MessageSignature:e.push(t.pubKeyEncoding===c.gW.Compressed?c.V3.SignatureCompressed:c.V3.SignatureUncompressed),e.push(G(t.contents))}return(0,r.WW)(e)}function z(t){return(0,r.ci)(q(t))}function q(t){return t.data.slice()}function Y(t){let e=(0,r.$O)(t,o.n)?t:new o.n(t),n=e.readUInt8(),i=4===n?c.wS:c.yl;return(0,l.NG)((0,r.WW)([n,e.readBytes(i)]))}},47238:function(t,e,n){"use strict";var r,i;function o(t){return e=>e[t]}n.d(e,{I:function(){return o},l:function(){return r}}),(i=r||(r={}))[i.Address=0]="Address",i[i.Principal=1]="Principal",i[i.LengthPrefixedString=2]="LengthPrefixedString",i[i.MemoString=3]="MemoString",i[i.Asset=4]="Asset",i[i.PostCondition=5]="PostCondition",i[i.PublicKey=6]="PublicKey",i[i.LengthPrefixedList=7]="LengthPrefixedList",i[i.Payload=8]="Payload",i[i.MessageSignature=9]="MessageSignature",i[i.StructuredDataSignature=10]="StructuredDataSignature",i[i.TransactionAuthField=11]="TransactionAuthField"},41998:function(t,e,n){"use strict";function r(t,e){return(t[e+0]<<8|t[e+1])>>>0}function i(t,e,n=0){return t[n+0]=e>>>8,t[n+1]=e>>>0,t}function o(t,e){return t[e]}function s(t,e,n=0){return t[n]=e,t}function a(t,e){return 16777216*t[e]+65536*t[e+1]+256*t[e+2]+t[e+3]}function u(t,e,n=0){return t[n+3]=e,e>>>=8,t[n+2]=e,e>>>=8,t[n+1]=e,e>>>=8,t[n]=e,t}n.d(e,{Ag:function(){return a},Cg:function(){return s},Q$:function(){return o},T4:function(){return u},cQ:function(){return i},n8:function(){return r}})},82398:function(t,e,n){"use strict";function r(t,e){return f(i(t),e)}function i(t){if("bigint"==typeof t)return t;if("string"==typeof t)return BigInt(t);if("number"==typeof t){if(!Number.isInteger(t))throw RangeError("Invalid value. Values of type 'number' must be an integer.");if(t>Number.MAX_SAFE_INTEGER)throw RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(t)}if(A(t,Uint8Array))return BigInt(`0x${p(t)}`);throw TypeError("intToBigInt: Invalid value type. Must be a number, bigint, BigInt-compatible string, or Uint8Array.")}function o(t){return/^0x/i.test(t)?t:`0x${t}`}function s(t){return/^0x/i.test(t)?t.slice(2):t}function a(t){if("string"!=typeof t)throw TypeError(`hexToBigInt: expected string, got ${typeof t}`);return BigInt(`0x${t}`)}function u(t,e=8){return("bigint"==typeof t?t:i(t)).toString(16).padStart(2*e,"0")}function c(t){return parseInt(t,16)}function f(t,e=16){return y(u(t,e))}function l(t,e){if(t<-(BigInt(1)<<e-BigInt(1))||(BigInt(1)<<e-BigInt(1))-BigInt(1)<t)throw`Unable to represent integer in width: ${e}`;return t>=BigInt(0)?BigInt(t):t+(BigInt(1)<<e)}function h(t){var e,n,r;return e=BigInt(`0x${p(t)}`),(r=(n=BigInt(8*t.byteLength))-BigInt(1),e&BigInt(1)<<r)?e-(BigInt(1)<<n):e}n.d(e,{$O:function(){return A},$g:function(){return o},$j:function(){return l},HN:function(){return i},I4:function(){return u},Md:function(){return b},QD:function(){return w},Qs:function(){return m},T7:function(){return x},WR:function(){return c},WW:function(){return E},ci:function(){return p},cn:function(){return h},eV:function(){return C},iY:function(){return g},jk:function(){return f},nr:function(){return y},sO:function(){return r},y_:function(){return a}});let d=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function p(t){if(!(t instanceof Uint8Array))throw Error("Uint8Array expected");let e="";for(let n of t)e+=d[n];return e}function y(t){if("string"!=typeof t)throw TypeError(`hexToBytes: expected string, got ${typeof t}`);let e=new Uint8Array((t=(t=s(t)).length%2?`0${t}`:t).length/2);for(let n=0;n<e.length;n++){let r=2*n,i=Number.parseInt(t.slice(r,r+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");e[n]=i}return e}function g(t){return new TextEncoder().encode(t)}function b(t){return new TextDecoder().decode(t)}function w(t){let e=[];for(let n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return new Uint8Array(e)}function m(t){return String.fromCharCode.apply(null,t)}function v(t){return!Number.isInteger(t)||t<0||t>255}function S(t){if(t.some(v))throw Error("Some values are invalid bytes.");return new Uint8Array(t)}function C(...t){if(!t.every(t=>t instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===t.length)return t[0];let e=new Uint8Array(t.reduce((t,e)=>t+e.length,0));for(let n=0,r=0;n<t.length;n++){let i=t[n];e.set(i,r),r+=i.length}return e}function E(t){return C(...t.map(t=>"number"==typeof t?S([t]):t instanceof Array?S(t):t))}function A(t,e){return t instanceof e||t?.constructor?.name?.toLowerCase()===e.name}function x(t){return 64===(t=s(t)).length&&/^[0-9a-fA-F]+$/.test(t)}},53105:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.c32ToB58=e.b58ToC32=e.c32addressDecode=e.c32address=e.versions=void 0;let r=n(56207),i=n(1189),o=n(98089);e.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};let s={};s[0]=e.versions.mainnet.p2pkh,s[5]=e.versions.mainnet.p2sh,s[111]=e.versions.testnet.p2pkh,s[196]=e.versions.testnet.p2sh;let a={};function u(t,e){if(!e.match(/^[0-9a-fA-F]{40}$/))throw Error("Invalid argument: not a hash160 hex string");let n=(0,r.c32checkEncode)(t,e);return`S${n}`}function c(t){if(t.length<=5)throw Error("Invalid c32 address: invalid length");if("S"!=t[0])throw Error('Invalid c32 address: must start with "S"');return(0,r.c32checkDecode)(t.slice(1))}a[e.versions.mainnet.p2pkh]=0,a[e.versions.mainnet.p2sh]=5,a[e.versions.testnet.p2pkh]=111,a[e.versions.testnet.p2sh]=196,e.c32address=u,e.c32addressDecode=c,e.b58ToC32=function(t,e=-1){let n;let r=i.decode(t),a=(0,o.bytesToHex)(r.data),c=parseInt((0,o.bytesToHex)(r.prefix),16);return e<0?(n=c,void 0!==s[c]&&(n=s[c])):n=e,u(n,a)},e.c32ToB58=function(t,e=-1){let n;let r=c(t),o=r[0],s=r[1];e<0?(n=o,void 0!==a[o]&&(n=a[o])):n=e;let u=n.toString(16);return 1===u.length&&(u=`0${u}`),i.encode(s,u)}},1189:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;let r=n(23061),i=n(98089),o=n(6132),s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";e.encode=function(t,e="00"){let n="string"==typeof t?(0,i.hexToBytes)(t):t,a="string"==typeof e?(0,i.hexToBytes)(e):t;if(!(n instanceof Uint8Array)||!(a instanceof Uint8Array))throw TypeError("Argument must be of type Uint8Array or string");let u=(0,r.sha256)((0,r.sha256)(new Uint8Array([...a,...n])));return o(s).encode([...a,...n,...u.slice(0,4)])},e.decode=function(t){let e=o(s).decode(t),n=e.slice(0,1),i=e.slice(1,-4),a=(0,r.sha256)((0,r.sha256)(new Uint8Array([...n,...i])));return e.slice(-4).forEach((t,e)=>{if(t!==a[e])throw Error("Invalid checksum")}),{prefix:n,data:i}}},56207:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.c32checkDecode=e.c32checkEncode=void 0;let r=n(23061),i=n(98089),o=n(47495);function s(t){let e=(0,r.sha256)((0,r.sha256)((0,i.hexToBytes)(t)));return(0,i.bytesToHex)(e.slice(0,4))}e.c32checkEncode=function(t,e){if(t<0||t>=32)throw Error("Invalid version (must be between 0 and 31)");if(!e.match(/^[0-9a-fA-F]*$/))throw Error("Invalid data (not a hex string)");(e=e.toLowerCase()).length%2!=0&&(e=`0${e}`);let n=t.toString(16);1===n.length&&(n=`0${n}`);let r=s(`${n}${e}`),i=(0,o.c32encode)(`${e}${r}`);return`${o.c32[t]}${i}`},e.c32checkDecode=function(t){t=(0,o.c32normalize)(t);let e=(0,o.c32decode)(t.slice(1)),n=t[0],r=o.c32.indexOf(n),i=e.slice(-8),a=r.toString(16);if(1===a.length&&(a=`0${a}`),s(`${a}${e.substring(0,e.length-8)}`)!==i)throw Error("Invalid c32check string: checksum mismatch");return[r,e.substring(0,e.length-8)]}},47495:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.c32decode=e.c32normalize=e.c32encode=e.c32=void 0;let r=n(98089);e.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";let i="0123456789abcdef";function o(t){return t.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}e.c32encode=function(t,n){if(!t.match(/^[0-9a-fA-F]*$/))throw Error("Not a hex-encoded string");t.length%2!=0&&(t=`0${t}`),t=t.toLowerCase();let o=[],s=0;for(let n=t.length-1;n>=0;n--)if(s<4){let r=i.indexOf(t[n])>>s,a=0;0!==n&&(a=i.indexOf(t[n-1]));let u=1+s,c=a%(1<<u)<<5-u,f=e.c32[r+c];s=u,o.unshift(f)}else s=0;let a=0;for(let t=0;t<o.length&&"0"===o[t];t++)a++;o=o.slice(a);let u=new TextDecoder().decode((0,r.hexToBytes)(t)).match(/^\u0000*/),c=u?u[0].length:0;for(let t=0;t<c;t++)o.unshift(e.c32[0]);if(n){let t=n-o.length;for(let n=0;n<t;n++)o.unshift(e.c32[0])}return o.join("")},e.c32normalize=o,e.c32decode=function(t,n){if(!(t=o(t)).match(`^[${e.c32}]*$`))throw Error("Not a c32-encoded string");let r=t.match(`^${e.c32[0]}*`),s=r?r[0].length:0,a=[],u=0,c=0;for(let n=t.length-1;n>=0;n--){4===c&&(a.unshift(i[u]),c=0,u=0);let r=(e.c32.indexOf(t[n])<<c)+u,o=i[r%16];if(c+=1,(u=r>>4)>1<<c)throw Error("Panic error in decoding.");a.unshift(o)}a.unshift(i[u]),a.length%2==1&&a.unshift("0");let f=0;for(let t=0;t<a.length&&"0"===a[t];t++)f++;let l=(a=a.slice(f-f%2)).join("");for(let t=0;t<s;t++)l=`00${l}`;if(n){let t=2*n-l.length;for(let e=0;e<t;e+=2)l=`00${l}`}return l}},27701:function(t,e,n){"use strict";e.yI=e.H4=void 0,n(47495),n(56207);let r=n(53105);Object.defineProperty(e,"H4",{enumerable:!0,get:function(){return r.c32address}}),Object.defineProperty(e,"yI",{enumerable:!0,get:function(){return r.c32addressDecode}})},6132:function(t){"use strict";t.exports=function(t){if(t.length>=255)throw TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),o=i.charCodeAt(0);if(255!==e[o])throw TypeError(i+" is ambiguous");e[o]=r}var s=t.length,a=t.charAt(0),u=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var n=0,r=0,i=0;t[n]===a;)r++,n++;for(var o=(t.length-n)*u+1>>>0,c=new Uint8Array(o);t[n];){var f=e[t.charCodeAt(n)];if(255===f)return;for(var l=0,h=o-1;(0!==f||l<i)&&-1!==h;h--,l++)f+=s*c[h]>>>0,c[h]=f%256>>>0,f=f/256>>>0;if(0!==f)throw Error("Non-zero carry");i=l,n++}for(var d=o-i;d!==o&&0===c[d];)d++;for(var p=new Uint8Array(r+(o-d)),y=r;d!==o;)p[y++]=c[d++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===e.length)return"";for(var n=0,r=0,i=0,o=e.length;i!==o&&0===e[i];)i++,n++;for(var u=(o-i)*c+1>>>0,f=new Uint8Array(u);i!==o;){for(var l=e[i],h=0,d=u-1;(0!==l||h<r)&&-1!==d;d--,h++)l+=256*f[d]>>>0,f[d]=l%s>>>0,l=l/s>>>0;if(0!==l)throw Error("Non-zero carry");r=h,i++}for(var p=u-r;p!==u&&0===f[p];)p++;for(var y=a.repeat(n);p<u;++p)y+=t.charAt(f[p]);return y},decodeUnsafe:f,decode:function(t){var e=f(t);if(e)return e;throw Error("Non-base"+s+" character")}}}},83465:function(t,e,n){t=n.nmd(t);var r,i="__lodash_hash_undefined__",o="[object Arguments]",s="[object Boolean]",a="[object Date]",u="[object Function]",c="[object GeneratorFunction]",f="[object Map]",l="[object Number]",h="[object Object]",d="[object Promise]",p="[object RegExp]",y="[object Set]",g="[object String]",b="[object Symbol]",w="[object WeakMap]",m="[object ArrayBuffer]",v="[object DataView]",S="[object Float32Array]",C="[object Float64Array]",E="[object Int8Array]",A="[object Int16Array]",x="[object Int32Array]",T="[object Uint8Array]",B="[object Uint8ClampedArray]",I="[object Uint16Array]",P="[object Uint32Array]",$=/\w*$/,O=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,k={};k[o]=k["[object Array]"]=k[m]=k[v]=k[s]=k[a]=k[S]=k[C]=k[E]=k[A]=k[x]=k[f]=k[l]=k[h]=k[p]=k[y]=k[g]=k[b]=k[T]=k[B]=k[I]=k[P]=!0,k["[object Error]"]=k[u]=k[w]=!1;var H="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,N="object"==typeof self&&self&&self.Object===Object&&self,M=H||N||Function("return this")(),_=e&&!e.nodeType&&e,W=_&&t&&!t.nodeType&&t,K=W&&W.exports===_;function L(t,e){return t.set(e[0],e[1]),t}function j(t,e){return t.add(e),t}function R(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function F(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function G(t,e){return function(n){return t(e(n))}}function D(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var X=Array.prototype,z=Function.prototype,q=Object.prototype,Y=M["__core-js_shared__"],Z=(r=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Q=z.toString,J=q.hasOwnProperty,tt=q.toString,te=RegExp("^"+Q.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tn=K?M.Buffer:void 0,tr=M.Symbol,ti=M.Uint8Array,to=G(Object.getPrototypeOf,Object),ts=Object.create,ta=q.propertyIsEnumerable,tu=X.splice,tc=Object.getOwnPropertySymbols,tf=tn?tn.isBuffer:void 0,tl=G(Object.keys,Object),th=tH(M,"DataView"),td=tH(M,"Map"),tp=tH(M,"Promise"),ty=tH(M,"Set"),tg=tH(M,"WeakMap"),tb=tH(Object,"create"),tw=tW(th),tm=tW(td),tv=tW(tp),tS=tW(ty),tC=tW(tg),tE=tr?tr.prototype:void 0,tA=tE?tE.valueOf:void 0;function tx(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tT(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tB(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tI(t){this.__data__=new tT(t)}function tP(t,e,n){var r=t[e];J.call(t,e)&&tK(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function t$(t,e){for(var n=t.length;n--;)if(tK(t[n][0],e))return n;return -1}function tO(t){var e=new t.constructor(t.byteLength);return new ti(e).set(new ti(t)),e}function tU(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var s=e[i],a=r?r(n[s],t[s],s,n,t):void 0;tP(n,s,void 0===a?t[s]:a)}return n}function tk(t,e){var n,r=t.__data__;return("string"==(n=typeof e)||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e)?r["string"==typeof e?"string":"hash"]:r.map}function tH(t,e){var n=null==t?void 0:t[e];return!(!tV(n)||Z&&Z in n)&&(tF(n)||F(n)?te:O).test(tW(n))?n:void 0}tx.prototype.clear=function(){this.__data__=tb?tb(null):{}},tx.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},tx.prototype.get=function(t){var e=this.__data__;if(tb){var n=e[t];return n===i?void 0:n}return J.call(e,t)?e[t]:void 0},tx.prototype.has=function(t){var e=this.__data__;return tb?void 0!==e[t]:J.call(e,t)},tx.prototype.set=function(t,e){return this.__data__[t]=tb&&void 0===e?i:e,this},tT.prototype.clear=function(){this.__data__=[]},tT.prototype.delete=function(t){var e=this.__data__,n=t$(e,t);return!(n<0)&&(n==e.length-1?e.pop():tu.call(e,n,1),!0)},tT.prototype.get=function(t){var e=this.__data__,n=t$(e,t);return n<0?void 0:e[n][1]},tT.prototype.has=function(t){return t$(this.__data__,t)>-1},tT.prototype.set=function(t,e){var n=this.__data__,r=t$(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},tB.prototype.clear=function(){this.__data__={hash:new tx,map:new(td||tT),string:new tx}},tB.prototype.delete=function(t){return tk(this,t).delete(t)},tB.prototype.get=function(t){return tk(this,t).get(t)},tB.prototype.has=function(t){return tk(this,t).has(t)},tB.prototype.set=function(t,e){return tk(this,t).set(t,e),this},tI.prototype.clear=function(){this.__data__=new tT},tI.prototype.delete=function(t){return this.__data__.delete(t)},tI.prototype.get=function(t){return this.__data__.get(t)},tI.prototype.has=function(t){return this.__data__.has(t)},tI.prototype.set=function(t,e){var n=this.__data__;if(n instanceof tT){var r=n.__data__;if(!td||r.length<199)return r.push([t,e]),this;n=this.__data__=new tB(r)}return n.set(t,e),this};var tN=tc?G(tc,Object):function(){return[]},tM=function(t){return tt.call(t)};function t_(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||q)}function tW(t){if(null!=t){try{return Q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function tK(t,e){return t===e||t!=t&&e!=e}(th&&tM(new th(new ArrayBuffer(1)))!=v||td&&tM(new td)!=f||tp&&tM(tp.resolve())!=d||ty&&tM(new ty)!=y||tg&&tM(new tg)!=w)&&(tM=function(t){var e=tt.call(t),n=e==h?t.constructor:void 0,r=n?tW(n):void 0;if(r)switch(r){case tw:return v;case tm:return f;case tv:return d;case tS:return y;case tC:return w}return e});var tL=Array.isArray;function tj(t){var e;return null!=t&&"number"==typeof(e=t.length)&&e>-1&&e%1==0&&e<=9007199254740991&&!tF(t)}var tR=tf||function(){return!1};function tF(t){var e=tV(t)?tt.call(t):"";return e==u||e==c}function tV(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function tG(t){return tj(t)?function(t,e){var n,r=tL(t)||t&&"object"==typeof t&&tj(t)&&J.call(t,"callee")&&(!ta.call(t,"callee")||tt.call(t)==o)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],i=r.length,s=!!i;for(var a in t)J.call(t,a)&&!(s&&("length"==a||(n=null==(n=i)?9007199254740991:n)&&("number"==typeof a||U.test(a))&&a>-1&&a%1==0&&a<n))&&r.push(a);return r}(t):function(t){if(!t_(t))return tl(t);var e=[];for(var n in Object(t))J.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return function t(e,n,r,i,d,w,O){if(i&&(U=w?i(e,d,w,O):i(e)),void 0!==U)return U;if(!tV(e))return e;var U,H=tL(e);if(H){if(N=e.length,M=e.constructor(N),N&&"string"==typeof e[0]&&J.call(e,"index")&&(M.index=e.index,M.input=e.input),U=M,!n)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(e,U)}else{var N,M,_,W,K,G,X=tM(e),z=X==u||X==c;if(tR(e))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(e,n);if(X==h||X==o||z&&!w){if(F(e))return w?e:{};if(U="function"!=typeof(_=z?{}:e).constructor||t_(_)?{}:tV(W=to(_))?ts(W):{},!n)return K=(G=U)&&tU(e,tG(e),G),tU(e,tN(e),K)}else{if(!k[X])return w?e:{};U=function(t,e,n,r){var i,o,u,c=t.constructor;switch(e){case m:return tO(t);case s:case a:return new c(+t);case v:return i=r?tO(t.buffer):t.buffer,new t.constructor(i,t.byteOffset,t.byteLength);case S:case C:case E:case A:case x:case T:case B:case I:case P:return o=r?tO(t.buffer):t.buffer,new t.constructor(o,t.byteOffset,t.length);case f:return R(r?n(V(t),!0):V(t),L,new t.constructor);case l:case g:return new c(t);case p:return(u=new t.constructor(t.source,$.exec(t))).lastIndex=t.lastIndex,u;case y:return R(r?n(D(t),!0):D(t),j,new t.constructor);case b:return tA?Object(tA.call(t)):{}}}(e,X,t,n)}}O||(O=new tI);var q=O.get(e);if(q)return q;if(O.set(e,U),!H){var Y,Z,Q=r?(Z=tG(Y=e),tL(Y)?Z:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(Z,tN(Y))):tG(e)}return!function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(Q||e,function(o,s){Q&&(o=e[s=o]),tP(U,s,t(o,n,r,i,s,e,O))}),U}(t,!0,!0)}},27760:function(t,e,n){"use strict";let r,i;n.d(e,{$3:function(){return z},E9:function(){return C},P6:function(){return tf},Pc:function(){return x},T:function(){return Q},kS:function(){return Y},xW:function(){return ts}});var o,s=n(95856);let a=BigInt(0),u=BigInt(1),c=BigInt(2),f=BigInt(3),l=BigInt(8),h=Object.freeze({a:a,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),d=(t,e)=>(t+e/c)/e,p={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=h,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-u*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=BigInt("0x100000000000000000000000000000000"),s=d(n*t,e),a=d(-r*t,e),c=W(t-s*n-a*i,e),f=W(-s*r-a*n,e),l=c>o,p=f>o;if(l&&(c=e-c),p&&(f=e-f),c>o||f>o)throw Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:l,k1:c,k2neg:p,k2:f}}};function y(t){let{a:e,b:n}=h,r=W(t*t),i=W(r*t);return W(i+e*t+n)}let g=h.a===a;class b extends Error{constructor(t){super(t)}}function w(t){if(!(t instanceof m))throw TypeError("JacobianPoint expected")}class m{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof C))throw TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(C.ZERO)?m.ZERO:new m(t.x,t.y,u)}static toAffineBatch(t){let e=function(t,e=h.P){let n=Array(t.length),r=L(t.reduce((t,r,i)=>r===a?t:(n[i]=t,W(t*r,e)),u),e);return t.reduceRight((t,r,i)=>r===a?t:(n[i]=W(t*n[i],e),W(t*r,e)),r),n}(t.map(t=>t.z));return t.map((t,n)=>t.toAffine(e[n]))}static normalizeZ(t){return m.toAffineBatch(t).map(m.fromAffine)}equals(t){w(t);let{x:e,y:n,z:r}=this,{x:i,y:o,z:s}=t,a=W(r*r),u=W(s*s),c=W(e*u),f=W(i*a),l=W(W(n*s)*u),h=W(W(o*r)*a);return c===f&&l===h}negate(){return new m(this.x,W(-this.y),this.z)}double(){let{x:t,y:e,z:n}=this,r=W(t*t),i=W(e*e),o=W(i*i),s=t+i,a=W(c*(W(s*s)-r-o)),u=W(f*r),h=W(u*u),d=W(h-c*a),p=W(u*(a-d)-l*o);return new m(d,p,W(c*e*n))}add(t){w(t);let{x:e,y:n,z:r}=this,{x:i,y:o,z:s}=t;if(i===a||o===a)return this;if(e===a||n===a)return t;let u=W(r*r),f=W(s*s),l=W(e*f),h=W(i*u),d=W(W(n*s)*f),p=W(W(o*r)*u),y=W(h-l),g=W(p-d);if(y===a)return g===a?this.double():m.ZERO;let b=W(y*y),v=W(y*b),S=W(l*b),C=W(g*g-v-c*S),E=W(g*(S-C)-d*v);return new m(C,E,W(r*s*y))}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){let e=m.ZERO;if("bigint"==typeof t&&t===a)return e;let n=_(t);if(n===u)return this;if(!g){let t=e,r=this;for(;n>a;)n&u&&(t=t.add(r)),r=r.double(),n>>=u;return t}let{k1neg:r,k1:i,k2neg:o,k2:s}=p.splitScalar(n),c=e,f=e,l=this;for(;i>a||s>a;)i&u&&(c=c.add(l)),s&u&&(f=f.add(l)),l=l.double(),i>>=u,s>>=u;return r&&(c=c.negate()),o&&(f=f.negate()),f=new m(W(f.x*p.beta),f.y,f.z),c.add(f)}precomputeWindow(t){let e=g?128/t+1:256/t+1,n=[],r=this,i=r;for(let o=0;o<e;o++){i=r,n.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(r),n.push(i);r=i.double()}return n}wNAF(t,e){!e&&this.equals(m.BASE)&&(e=C.BASE);let n=e&&e._WINDOW_SIZE||1;if(256%n)throw Error("Point#wNAF: Invalid precomputation window, must be power of 2");let r=e&&S.get(e);!r&&(r=this.precomputeWindow(n),e&&1!==n&&(r=m.normalizeZ(r),S.set(e,r)));let i=m.ZERO,o=m.BASE,s=1+(g?128/n:256/n),a=2**(n-1),c=BigInt(2**n-1),f=2**n,l=BigInt(n);for(let e=0;e<s;e++){let n=e*a,s=Number(t&c);t>>=l,s>a&&(s-=f,t+=u);let h=n+Math.abs(s)-1,d=e%2!=0,p=s<0;0===s?o=o.add(v(d,r[n])):i=i.add(v(p,r[h]))}return{p:i,f:o}}multiply(t,e){let n,r,i=_(t);if(g){let{k1neg:t,k1:o,k2neg:s,k2:a}=p.splitScalar(i),{p:u,f:c}=this.wNAF(o,e),{p:f,f:l}=this.wNAF(a,e);u=v(t,u),f=new m(W((f=v(s,f)).x*p.beta),f.y,f.z),n=u.add(f),r=c.add(l)}else{let{p:t,f:o}=this.wNAF(i,e);n=t,r=o}return m.normalizeZ([n,r])[0]}toAffine(t){let{x:e,y:n,z:r}=this,i=this.equals(m.ZERO);null==t&&(t=i?l:L(r));let o=t,s=W(o*o),a=W(s*o),c=W(e*s),f=W(n*a),h=W(r*o);if(i)return C.ZERO;if(h!==u)throw Error("invZ was invalid");return new C(c,f)}}function v(t,e){let n=e.negate();return t?n:e}m.BASE=new m(h.Gx,h.Gy,u),m.ZERO=new m(a,u,a);let S=new WeakMap;class C{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,S.delete(this)}hasEvenY(){return this.y%c===a}static fromCompressedHex(t){let e=32===t.length,n=N(e?t:t.subarray(1));if(!V(n))throw Error("Point is not on curve");let r=function(t){let{P:e}=h,n=BigInt(6),r=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),u=t*t*t%e,l=u*u*t%e,d=K(l,f)*l%e,p=K(d,f)*l%e,y=K(p,c)*u%e,g=K(y,r)*y%e,b=K(g,i)*g%e,w=K(b,s)*b%e,m=K(w,a)*w%e,v=K(m,s)*b%e,S=K(v,f)*l%e,C=K(S,o)*g%e,E=K(C,n)*u%e,A=K(E,c);if(A*A%e!==t)throw Error("Cannot find square root");return A}(y(n)),i=(r&u)===u;e?i&&(r=W(-r)):(1&t[0])==1!==i&&(r=W(-r));let o=new C(n,r);return o.assertValidity(),o}static fromUncompressedHex(t){let e=new C(N(t.subarray(1,33)),N(t.subarray(33,65)));return e.assertValidity(),e}static fromHex(t){let e=M(t),n=e.length,r=e[0];if(32===n||33===n&&(2===r||3===r))return this.fromCompressedHex(e);if(65===n&&4===r)return this.fromUncompressedHex(e);throw Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return C.BASE.multiply(G(t))}static fromSignature(t,e,n){let{r,s:i}=X(e);if(![0,1,2,3].includes(n))throw Error("Cannot recover: invalid recovery bit");let o=j(M(t)),{n:s}=h,a=2===n||3===n?r+s:r,u=L(a,s),c=W(-o*u,s),f=W(i*u,s),l=1&n?"03":"02",d=C.fromHex(l+$(a)),p=C.BASE.multiplyAndAddUnsafe(d,c,f);if(!p)throw Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(t=!1){return H(this.toHex(t))}toHex(t=!1){let e=$(this.x);if(!t)return`04${e}${$(this.y)}`;{let t=this.hasEvenY()?"02":"03";return`${t}${e}`}}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let t="Point is not on elliptic curve",{x:e,y:n}=this;if(!V(e)||!V(n))throw Error(t);let r=W(n*n);if(W(r-y(e))!==a)throw Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new C(this.x,W(-this.y))}double(){return m.fromAffine(this).double().toAffine()}add(t){return m.fromAffine(this).add(m.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return m.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){let r=m.fromAffine(this),i=e===a||e===u||this!==C.BASE?r.multiplyUnsafe(e):r.multiply(e),o=m.fromAffine(t).multiplyUnsafe(n),s=i.add(o);return s.equals(m.ZERO)?void 0:s.toAffine()}}function E(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function A(t){if(t.length<2||2!==t[0])throw Error(`Invalid signature integer tag: ${I(t)}`);let e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw Error("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw Error("Invalid signature integer: trailing length");return{data:N(n),left:t.subarray(e+2)}}C.BASE=new C(h.Gx,h.Gy),C.ZERO=new C(a,a);class x{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){let e=t instanceof Uint8Array,n="Signature.fromCompact";if("string"!=typeof t&&!e)throw TypeError(`${n}: Expected string or Uint8Array`);let r=e?I(t):t;if(128!==r.length)throw Error(`${n}: Expected 64-byte hex`);return new x(k(r.slice(0,64)),k(r.slice(64,128)))}static fromDER(t){let e=t instanceof Uint8Array;if("string"!=typeof t&&!e)throw TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:r}=function(t){if(t.length<2||48!=t[0])throw Error(`Invalid signature tag: ${I(t)}`);if(t[1]!==t.length-2)throw Error("Invalid signature: incorrect length");let{data:e,left:n}=A(t.subarray(2)),{data:r,left:i}=A(n);if(i.length)throw Error(`Invalid signature: left bytes after parsing: ${I(i)}`);return{r:e,s:r}}(e?t:H(t));return new x(n,r)}static fromHex(t){return this.fromDER(t)}assertValidity(){let{r:t,s:e}=this;if(!F(t))throw Error("Invalid Signature: r must be 0 < r < n");if(!F(e))throw Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let t=h.n>>u;return this.s>t}normalizeS(){return this.hasHighS()?new x(this.r,W(-this.s,h.n)):this}toDERRawBytes(){return H(this.toDERHex())}toDERHex(){let t=E(U(this.s)),e=E(U(this.r)),n=t.length/2,r=e.length/2,i=U(n),o=U(r),s=U(r+n+4);return`30${s}02${o}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return H(this.toCompactHex())}toCompactHex(){return $(this.r)+$(this.s)}}function T(...t){if(!t.every(t=>t instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===t.length)return t[0];let e=new Uint8Array(t.reduce((t,e)=>t+e.length,0));for(let n=0,r=0;n<t.length;n++){let i=t[n];e.set(i,r),r+=i.length}return e}let B=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function I(t){if(!(t instanceof Uint8Array))throw Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=B[t[n]];return e}let P=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function $(t){if("bigint"!=typeof t)throw Error("Expected bigint");if(!(a<=t&&t<P))throw Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function O(t){let e=H($(t));if(32!==e.length)throw Error("Error: expected 32 bytes");return e}function U(t){let e=t.toString(16);return 1&e.length?`0${e}`:e}function k(t){if("string"!=typeof t)throw TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function H(t){if("string"!=typeof t)throw TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){let r=2*n,i=Number.parseInt(t.slice(r,r+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");e[n]=i}return e}function N(t){return k(I(t))}function M(t){return t instanceof Uint8Array?Uint8Array.from(t):H(t)}function _(t){if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"==typeof t&&F(t))return t;throw TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function W(t,e=h.P){let n=t%e;return n>=a?n:e+n}function K(t,e){let{P:n}=h,r=t;for(;e-- >a;)r*=r,r%=n;return r}function L(t,e=h.P){if(t===a||e<=a)throw Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=W(t,e),r=e,i=a,o=u,s=u,c=a;for(;n!==a;){let t=r/n,e=r%n,a=i-s*t,u=o-c*t;r=n,n=e,i=s,o=c,s=a,c=u}if(r!==u)throw Error("invert: does not exist");return W(i,e)}function j(t,e=!1){let n=function(t){let e=8*t.length-256,n=N(t);return e>0?n>>BigInt(e):n}(t);if(e)return n;let{n:r}=h;return n>=r?n-r:n}class R{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,"number"!=typeof t||t<2)throw Error("hashLen must be a number");if("number"!=typeof e||e<2)throw Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return tf.hmacSha256(this.k,...t)}hmacSync(...t){return i(this.k,...t)}checkSync(){if("function"!=typeof i)throw new b("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0,e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();e.push(n),t+=this.v.length}return T(...e)}generateSync(){this.checkSync(),this.incr();let t=0,e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();e.push(n),t+=this.v.length}return T(...e)}}function F(t){return a<t&&t<h.n}function V(t){return a<t&&t<h.P}function G(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"==typeof t){if(64!==t.length)throw Error("Expected 32 bytes of private key");e=k(t)}else if(t instanceof Uint8Array){if(32!==t.length)throw Error("Expected 32 bytes of private key");e=N(t)}else throw TypeError("Expected valid private key");if(!F(e))throw Error("Expected private key: 0 < key < n");return e}function D(t){return t instanceof C?(t.assertValidity(),t):C.fromHex(t)}function X(t){if(t instanceof x)return t.assertValidity(),t;try{return x.fromDER(t)}catch(e){return x.fromCompact(t)}}function z(t,e=!1){return C.fromPrivateKey(t).toRawBytes(e)}function q(t){return N(t.length>32?t.slice(0,32):t)}function Y(t,e,n={}){let r;let{seed:i,m:o,d:s}=function(t,e,n){if(null==t)throw Error(`sign: expected valid message hash, not "${t}"`);let r=M(t),i=G(e),o=[O(i),function(t){let e=q(t),n=W(e,h.n);return O(n<a?e:n)}(r)];if(null!=n){!0===n&&(n=tf.randomBytes(32));let t=M(n);if(32!==t.length)throw Error("sign: Expected 32 bytes of extra data");o.push(t)}return{seed:T(...o),m:q(r),d:i}}(t,e,n.extraEntropy),c=new R(32,32);for(c.reseedSync(i);!(r=function(t,e,n,r=!0){let{n:i}=h,o=j(t,!0);if(!F(o))return;let s=L(o,i),c=C.BASE.multiply(o),f=W(c.x,i);if(f===a)return;let l=W(s*W(e+n*f,i),i);if(l===a)return;let d=new x(f,l),p=(c.x===d.r?0:2)|Number(c.y&u);return r&&d.hasHighS()&&(d=d.normalizeS(),p^=1),{sig:d,recovery:p}}(c.generateSync(),o,s,n.canonical));)c.reseedSync();return function(t,e){let{sig:n,recovery:r}=t,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},e),s=i?n.toDERRawBytes():n.toCompactRawBytes();return o?[s,r]:s}(r,n)}let Z={strict:!0};function Q(t,e,n,r=Z){let i,o;try{i=X(t),e=M(e)}catch(t){return!1}let{r:s,s:a}=i;if(r.strict&&i.hasHighS())return!1;let u=j(e);try{o=D(n)}catch(t){return!1}let{n:c}=h,f=L(a,c),l=W(u*f,c),d=W(s*f,c),p=C.BASE.multiplyAndAddUnsafe(o,l,d);return!!p&&W(p.x,c)===s}function J(t){return W(N(t),h.n)}class tt{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){let e=M(t);if(64!==e.length)throw TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${e.length}`);return new tt(N(e.subarray(0,32)),N(e.subarray(32,64)))}assertValidity(){let{r:t,s:e}=this;if(!V(t)||!F(e))throw Error("Invalid signature")}toHex(){return $(this.r)+$(this.s)}toRawBytes(){return H(this.toHex())}}class te{constructor(t,e,n=tf.randomBytes()){if(null==t)throw TypeError(`sign: Expected valid message, not "${t}"`);this.m=M(t);let{x:r,scalar:i}=this.getScalar(G(e));if(this.px=r,this.d=i,this.rand=M(n),32!==this.rand.length)throw TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(t){let e=C.fromPrivateKey(t),n=e.hasEvenY()?t:h.n-t;return{point:e,scalar:n,x:e.toRawX()}}initNonce(t,e){return O(t^N(e))}finalizeNonce(t){let e=W(N(t),h.n);if(e===a)throw Error("sign: Creation of signature failed. k is zero");let{point:n,x:r,scalar:i}=this.getScalar(e);return{R:n,rx:r,k:i}}finalizeSig(t,e,n,r){return new tt(t.x,W(e+n*r,h.n)).toRawBytes()}error(){throw Error("sign: Invalid signature produced")}async calc(){let{m:t,d:e,px:n,rand:r}=this,i=tf.taggedHash,o=this.initNonce(e,await i(tu.aux,r)),{R:s,rx:a,k:u}=this.finalizeNonce(await i(tu.nonce,o,n,t)),c=J(await i(tu.challenge,a,n,t)),f=this.finalizeSig(s,u,c,e);return await ti(f,t,n)||this.error(),f}calcSync(){let{m:t,d:e,px:n,rand:r}=this,i=tf.taggedHashSync,o=this.initNonce(e,i(tu.aux,r)),{R:s,rx:a,k:u}=this.finalizeNonce(i(tu.nonce,o,n,t)),c=J(i(tu.challenge,a,n,t)),f=this.finalizeSig(s,u,c,e);return to(f,t,n)||this.error(),f}}function tn(t,e,n){let r=t instanceof tt,i=r?t:tt.fromHex(t);return r&&i.assertValidity(),{...i,m:M(e),P:D(n)}}function tr(t,e,n,r){let i=C.BASE.multiplyAndAddUnsafe(e,G(n),W(-r,h.n));return!!(i&&i.hasEvenY())&&i.x===t}async function ti(t,e,n){try{let{r,s:i,m:o,P:s}=tn(t,e,n),a=J(await tf.taggedHash(tu.challenge,O(r),s.toRawX(),o));return tr(r,s,i,a)}catch(t){return!1}}function to(t,e,n){try{let{r,s:i,m:o,P:s}=tn(t,e,n),a=J(tf.taggedHashSync(tu.challenge,O(r),s.toRawX(),o));return tr(r,s,i,a)}catch(t){if(t instanceof b)throw t;return!1}}let ts={Signature:tt,getPublicKey:function(t){return C.fromPrivateKey(t).toRawX()},sign:async function(t,e,n){return new te(t,e,n).calc()},verify:ti,signSync:function(t,e,n){return new te(t,e,n).calcSync()},verifySync:to};C.BASE._setWindowSize(8);let ta={node:o||(o=n.t(s,2)),web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},tu={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},tc={},tf={bytesToHex:I,hexToBytes:H,concatBytes:T,mod:W,invert:L,isValidPrivateKey(t){try{return G(t),!0}catch(t){return!1}},_bigintTo32Bytes:O,_normalizePrivateKey:G,hashToPrivateKey:t=>{if((t=M(t)).length<40||t.length>1024)throw Error("Expected valid bytes of private key as per FIPS 186");return O(W(N(t),h.n-u)+u)},randomBytes:(t=32)=>{if(ta.web)return ta.web.getRandomValues(new Uint8Array(t));if(ta.node){let{randomBytes:e}=ta.node;return Uint8Array.from(e(t))}throw Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>tf.hashToPrivateKey(tf.randomBytes(40)),precompute(t=8,e=C.BASE){let n=e===C.BASE?e:new C(e.x,e.y);return n._setWindowSize(t),n.multiply(f),n},sha256:async(...t)=>{if(ta.web)return new Uint8Array(await ta.web.subtle.digest("SHA-256",T(...t)));if(ta.node){let{createHash:e}=ta.node,n=e("sha256");return t.forEach(t=>n.update(t)),Uint8Array.from(n.digest())}throw Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(ta.web){let n=await ta.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=T(...e);return new Uint8Array(await ta.web.subtle.sign("HMAC",n,r))}if(ta.node){let{createHmac:n}=ta.node,r=n("sha256",t);return e.forEach(t=>r.update(t)),Uint8Array.from(r.digest())}throw Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let n=tc[t];if(void 0===n){let e=await tf.sha256(Uint8Array.from(t,t=>t.charCodeAt(0)));n=T(e,e),tc[t]=n}return tf.sha256(n,...e)},taggedHashSync:(t,...e)=>{if("function"!=typeof r)throw new b("sha256Sync is undefined, you need to set it");let n=tc[t];if(void 0===n){let e=r(Uint8Array.from(t,t=>t.charCodeAt(0)));n=T(e,e),tc[t]=n}return r(n,...e)},_JacobianPoint:m};Object.defineProperties(tf,{sha256Sync:{configurable:!1,get:()=>r,set(t){r||(r=t)}},hmacSha256Sync:{configurable:!1,get:()=>i,set(t){i||(i=t)}}})},12936:function(t,e,n){"use strict";function r(t){if(!Number.isSafeInteger(t)||t<0)throw Error(`Wrong positive integer: ${t}`)}function i(t,...e){if(!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}e.ZP={number:r,bool:function(t){if("boolean"!=typeof t)throw Error(`Expected boolean, not ${t}`)},bytes:i,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw Error("Hash should be wrapped by utils.wrapConstructor");r(t.outputLen),r(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw Error("Hash instance has been destroyed");if(e&&t.finished)throw Error("Hash#digest() has already been called")},output:function(t,e){i(t);let n=e.outputLen;if(t.length<n)throw Error(`digestInto() expects output buffer of length at least ${n}`)}}},58189:function(t,e,n){"use strict";n.d(e,{N:function(){return o}});var r=n(12936),i=n(43105);class o extends i.kb{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,i.GL)(this.buffer)}update(t){r.ZP.exists(this);let{view:e,buffer:n,blockLen:o}=this,s=(t=(0,i.O0)(t)).length;for(let r=0;r<s;){let a=Math.min(o-this.pos,s-r);if(a===o){let e=(0,i.GL)(t);for(;o<=s-r;r+=o)this.process(e,r);continue}n.set(t.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){r.ZP.exists(this),r.ZP.output(t,this),this.finished=!0;let{buffer:e,view:n,blockLen:o,isLE:s}=this,{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let t=a;t<o;t++)e[t]=0;!function(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);let i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),u=r?4:0,c=r?0:4;t.setUint32(e+u,s,r),t.setUint32(e+c,a,r)}(n,o-8,BigInt(8*this.length),s),this.process(n,0);let u=(0,i.GL)(t),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let f=c/4,l=this.get();if(f>l.length)throw Error("_sha2: outputLen bigger than state");for(let t=0;t<f;t++)u.setUint32(4*t,l[t],s)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return t.length=r,t.pos=s,t.finished=i,t.destroyed=o,r%e&&t.buffer.set(n),t}}},57170:function(t,e,n){"use strict";n.d(e,{J:function(){return h}});var r=n(58189),i=n(43105);let o=(t,e,n)=>t&e^~t&n,s=(t,e,n)=>t&e^t&n^e&n,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),u=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class f extends r.N{constructor(){super(64,32,8,!1),this.A=0|u[0],this.B=0|u[1],this.C=0|u[2],this.D=0|u[3],this.E=0|u[4],this.F=0|u[5],this.G=0|u[6],this.H=0|u[7]}get(){let{A:t,B:e,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[t,e,n,r,i,o,s,a]}set(t,e,n,r,i,o,s,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,e){for(let n=0;n<16;n++,e+=4)c[n]=t.getUint32(e,!1);for(let t=16;t<64;t++){let e=c[t-15],n=c[t-2],r=(0,i.np)(e,7)^(0,i.np)(e,18)^e>>>3,o=(0,i.np)(n,17)^(0,i.np)(n,19)^n>>>10;c[t]=o+c[t-7]+r+c[t-16]|0}let{A:n,B:r,C:u,D:f,E:l,F:h,G:d,H:p}=this;for(let t=0;t<64;t++){let e=p+((0,i.np)(l,6)^(0,i.np)(l,11)^(0,i.np)(l,25))+o(l,h,d)+a[t]+c[t]|0,y=((0,i.np)(n,2)^(0,i.np)(n,13)^(0,i.np)(n,22))+s(n,r,u)|0;p=d,d=h,h=l,l=f+e|0,f=u,u=r,r=n,n=e+y|0}n=n+this.A|0,r=r+this.B|0,u=u+this.C|0,f=f+this.D|0,l=l+this.E|0,h=h+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(n,r,u,f,l,h,d,p)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends f{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}let h=(0,i.hE)(()=>new f);(0,i.hE)(()=>new l)},43105:function(t,e,n){"use strict";n.d(e,{kb:function(){return s},GL:function(){return r},np:function(){return i},O0:function(){return o},hE:function(){return a}}),"object"==typeof self&&"crypto"in self&&self.crypto;let r=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),i=(t,e)=>t<<32-e|t>>>e;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw Error("Non little-endian hardware is not supported");function o(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}(t)),!(t instanceof Uint8Array))throw TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));class s{clone(){return this._cloneInto()}}function a(t){let e=e=>t().update(o(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}}}]);